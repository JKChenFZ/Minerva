/*! For license information please see GoogleClassroomContentScript.js.LICENSE.txt */
(()=>{var t={90:t=>{function e(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function n(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,r,o){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof r&&(o=r,r={}),r=r||{},o=o||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=t,r.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?e:n)(a,o),a.onload||e(a,o),s.appendChild(a)}},988:t=>{"use strict";var e;e=function(){var t={},e={};return t.on=function(t,n){var r={name:t,handler:n};return e[t]=e[t]||[],e[t].unshift(r),r},t.off=function(t){var n=e[t.name].indexOf(t);-1!==n&&e[t.name].splice(n,1)},t.trigger=function(t,n){var r,o=e[t];if(o)for(r=o.length;r--;)o[r].handler(n)},t},t.exports=e},455:function(t){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,n){return(l=i()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}var p="SweetAlert2:",d=function(t){return Object.keys(t).map((function(e){return t[e]}))},h=function(t){return Array.prototype.slice.call(t)},f=function(t){console.warn("".concat(p," ").concat(t))},m=function(t){console.error("".concat(p," ").concat(t))},g=[],w=function(t,e){var n;n='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),-1===g.indexOf(n)&&(g.push(n),f(n))},y=function(t){return"function"==typeof t?t():t},b=function(t){return t&&"function"==typeof t.toPromise},v=function(t){return b(t)?t.toPromise():Promise.resolve(t)},k=function(t){return t&&Promise.resolve(t)===t},x=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),S=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)},E=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},D=E(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),I=E(["success","warning","info","question","error"]),T=function(){return document.body.querySelector(".".concat(D.container))},F=function(t){var e=T();return e?e.querySelector(t):null},C=function(t){return F(".".concat(t))},N=function(){return C(D.popup)},B=function(){var t=N();return h(t.querySelectorAll(".".concat(D.icon)))},A=function(){var t=B().filter((function(t){return dt(t)}));return t.length?t[0]:null},_=function(){return C(D.title)},$=function(){return C(D.content)},P=function(){return C(D.image)},M=function(){return C(D["progress-steps"])},R=function(){return C(D["validation-message"])},L=function(){return F(".".concat(D.actions," .").concat(D.confirm))},O=function(){return F(".".concat(D.actions," .").concat(D.deny))},z=function(){return F(".".concat(D.loader))},K=function(){return F(".".concat(D.actions," .").concat(D.cancel))},q=function(){return C(D.actions)},j=function(){return C(D.header)},V=function(){return C(D.footer)},H=function(){return C(D["timer-progress-bar"])},U=function(){return C(D.close)},W=function(){var t=h(N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0})),e=h(N().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter((function(t){return dt(t)}))},G=function(){return!Y()&&!document.body.classList.contains(D["no-backdrop"])},Y=function(){return document.body.classList.contains(D["toast-shown"])},X={previousBodyPadding:null},J=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html");h(n.querySelector("head").childNodes).forEach((function(e){t.appendChild(e)})),h(n.querySelector("body").childNodes).forEach((function(e){t.appendChild(e)}))}},Q=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},Z=function(e,n,r){if(function(t,e){h(t.classList).forEach((function(n){-1===d(D).indexOf(n)&&-1===d(I).indexOf(n)&&-1===d(e.showClass).indexOf(n)&&t.classList.remove(n)}))}(e,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return f("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));ot(e,n.customClass[r])}};function tt(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return at(t,D[e]);case"checkbox":return t.querySelector(".".concat(D.checkbox," input"));case"radio":return t.querySelector(".".concat(D.radio," input:checked"))||t.querySelector(".".concat(D.radio," input:first-child"));case"range":return t.querySelector(".".concat(D.range," input"));default:return at(t,D.input)}}var et,nt=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},rt=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},ot=function(t,e){rt(t,e,!0)},st=function(t,e){rt(t,e,!1)},at=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(Q(t.childNodes[n],e))return t.childNodes[n]},it=function(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e},ut=function(t){t.style.display="none"},ct=function(t,e,n,r){var o=t.querySelector(e);o&&(o.style[n]=r)},pt=function(t,e,n){e?lt(t,n):ut(t)},dt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},ht=function(t){return!!(t.scrollHeight>t.clientHeight)},ft=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=H();dt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},gt=function(){return"undefined"==typeof window||"undefined"==typeof document},wt='\n <div aria-labelledby="'.concat(D.title,'" aria-describedby="').concat(D.content,'" class="').concat(D.popup,'" tabindex="-1">\n   <div class="').concat(D.header,'">\n     <ul class="').concat(D["progress-steps"],'"></ul>\n     <div class="').concat(D.icon," ").concat(I.error,'"></div>\n     <div class="').concat(D.icon," ").concat(I.question,'"></div>\n     <div class="').concat(D.icon," ").concat(I.warning,'"></div>\n     <div class="').concat(D.icon," ").concat(I.info,'"></div>\n     <div class="').concat(D.icon," ").concat(I.success,'"></div>\n     <img class="').concat(D.image,'" />\n     <h2 class="').concat(D.title,'" id="').concat(D.title,'"></h2>\n     <button type="button" class="').concat(D.close,'"></button>\n   </div>\n   <div class="').concat(D.content,'">\n     <div id="').concat(D.content,'" class="').concat(D["html-container"],'"></div>\n     <input class="').concat(D.input,'" />\n     <input type="file" class="').concat(D.file,'" />\n     <div class="').concat(D.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(D.select,'"></select>\n     <div class="').concat(D.radio,'"></div>\n     <label for="').concat(D.checkbox,'" class="').concat(D.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(D.label,'"></span>\n     </label>\n     <textarea class="').concat(D.textarea,'"></textarea>\n     <div class="').concat(D["validation-message"],'" id="').concat(D["validation-message"],'"></div>\n   </div>\n   <div class="').concat(D.actions,'">\n     <div class="').concat(D.loader,'"></div>\n     <button type="button" class="').concat(D.confirm,'"></button>\n     <button type="button" class="').concat(D.deny,'"></button>\n     <button type="button" class="').concat(D.cancel,'"></button>\n   </div>\n   <div class="').concat(D.footer,'"></div>\n   <div class="').concat(D["timer-progress-bar-container"],'">\n     <div class="').concat(D["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),yt=function(t){Sn.isVisible()&&et!==t.target.value&&Sn.resetValidationMessage(),et=t.target.value},bt=function(t){var e,n,r,o,s,a,i,l,u,c,p=!!(e=T())&&(e.parentNode.removeChild(e),st([document.documentElement,document.body],[D["no-backdrop"],D["toast-shown"],D["has-column"]]),!0);if(gt())m("SweetAlert2 requires document to initialize");else{var d=document.createElement("div");d.className=D.container,p&&ot(d,D["no-transition"]),J(d,wt);var h="string"==typeof(c=t.target)?document.querySelector(c):c;h.appendChild(d),function(t){var e=N();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&ot(T(),D.rtl)}(h),n=$(),r=at(n,D.input),o=at(n,D.file),s=n.querySelector(".".concat(D.range," input")),a=n.querySelector(".".concat(D.range," output")),i=at(n,D.select),l=n.querySelector(".".concat(D.checkbox," input")),u=at(n,D.textarea),r.oninput=yt,o.onchange=yt,i.onchange=yt,l.onchange=yt,u.oninput=yt,s.oninput=function(t){yt(t),a.value=s.value},s.onchange=function(t){yt(t),s.nextSibling.value=s.value}}},vt=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?kt(e,n):e&&J(n,e)},kt=function(t,e){t.jquery?xt(e,t):J(e,t.toString())},xt=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},St=function(){if(gt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}(),Et=function(t,e){var n=q(),r=z(),o=L(),s=O(),a=K();e.showConfirmButton||e.showDenyButton||e.showCancelButton||ut(n),Z(n,e,"actions"),Dt(o,"confirm",e),Dt(s,"deny",e),Dt(a,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return st([t,e,n],D.styled);ot([t,e,n],D.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor)}(o,s,a,e),e.reverseButtons&&(n.insertBefore(a,r),n.insertBefore(s,r),n.insertBefore(o,r)),r.innerHTML=e.loaderHtml,Z(r,e,"loader")};function Dt(t,e,n){var r;pt(t,n["show".concat((r=e,r.charAt(0).toUpperCase()+r.slice(1)),"Button")],"inline-block"),J(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=D[e],Z(t,n,"".concat(e,"Button")),ot(t,n["".concat(e,"ButtonClass")])}var It=function(t,e){var n=T();if(n){(function(t,e){"string"==typeof e?t.style.background=e:e||ot([document.documentElement,document.body],D["no-backdrop"])})(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&f('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in D?ot(t,D[e]):(f('The "position" parameter is not valid, defaulting to "center"'),ot(t,D.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in D&&ot(t,D[n])}}(n,e.grow),Z(n,e,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}},Tt={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},Ft=["input","file","range","select","radio","checkbox","textarea"],Ct=function(t){if(!Pt[t.input])return m('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=$t(t.input),n=Pt[t.input](e,t);lt(n),setTimeout((function(){nt(n)}))},Nt=function(t,e){var n=tt($(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])},Bt=function(t){var e=$t(t.input);t.customClass&&ot(e,t.customClass.input)},At=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},_t=function(t,e,n){if(n.inputLabel){t.id=D.input;var r=document.createElement("label"),o=D["input-label"];r.setAttribute("for",t.id),r.className=o,r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},$t=function(t){var e=D[t]?D[t]:D.input;return at($(),e)},Pt={};Pt.text=Pt.email=Pt.password=Pt.number=Pt.tel=Pt.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:k(n.inputValue)||f('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),_t(e,e,n),At(e,n),e.type=n.input,e},Pt.file=function(t,e){return _t(t,t,e),At(t,e),t},Pt.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,_t(n,t,e),t},Pt.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");J(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return _t(t,t,e),t},Pt.radio=function(t){return t.textContent="",t},Pt.checkbox=function(t,e){var n=tt($(),"checkbox");n.value=1,n.id=D.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return J(r,e.inputPlaceholder),t},Pt.textarea=function(t,e){if(t.value=e.inputValue,At(t,e),_t(t,t,e),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(N()).width),r=parseInt(window.getComputedStyle(N()).paddingLeft)+parseInt(window.getComputedStyle(N()).paddingRight);new MutationObserver((function(){var e=t.offsetWidth+r;N().style.width=e>n?"".concat(e,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var Mt=function(t,e){var n=$().querySelector("#".concat(D.content));e.html?(vt(e.html,n),lt(n,"block")):e.text?(n.textContent=e.text,lt(n,"block")):ut(n),function(t,e){var n=$(),r=Tt.innerParams.get(t),o=!r||e.input!==r.input;Ft.forEach((function(t){var r=D[t],s=at(n,r);Nt(t,e.inputAttributes),s.className=r,o&&ut(s)})),e.input&&(o&&Ct(e),Bt(e))}(t,e),Z($(),e,"content")},Rt=function(){for(var t=B(),e=0;e<t.length;e++)ut(t[e])},Lt=function(t,e){Kt(t,e),Ot(),Z(t,e,"icon")},Ot=function(){for(var t=N(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},zt=function(t,e){t.textContent="",e.iconHtml?J(t,qt(e.iconHtml)):"success"===e.icon?J(t,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    '):"error"===e.icon?J(t,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    '):J(t,qt({question:"?",warning:"!",info:"i"}[e.icon]))},Kt=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){ct(t,r[n],"backgroundColor",e.iconColor)}ct(t,".swal2-success-ring","borderColor",e.iconColor)}},qt=function(t){return'<div class="'.concat(D["icon-content"],'">').concat(t,"</div>")},jt=[],Vt=function(){return T()&&T().getAttribute("data-queue-step")},Ht=function(t,e){var n=M();if(!e.progressSteps||0===e.progressSteps.length)return ut(n);lt(n),n.textContent="";var r=parseInt(void 0===e.currentProgressStep?Vt():e.currentProgressStep);r>=e.progressSteps.length&&f("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((function(t,o){var s=function(t){var e=document.createElement("li");return ot(e,D["progress-step"]),J(e,t),e}(t);if(n.appendChild(s),o===r&&ot(s,D["active-progress-step"]),o!==e.progressSteps.length-1){var a=function(t){var e=document.createElement("li");return ot(e,D["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(e);n.appendChild(a)}}))},Ut=function(t,e){var n=j();Z(n,e,"header"),Ht(0,e),function(t,e){var n=Tt.innerParams.get(t);if(n&&e.icon===n.icon&&A())Lt(A(),e);else if(Rt(),e.icon)if(-1!==Object.keys(I).indexOf(e.icon)){var r=F(".".concat(D.icon,".").concat(I[e.icon]));lt(r),zt(r,e),Lt(r,e),ot(r,e.showClass.icon)}else m('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))}(t,e),function(t,e){var n=P();if(!e.imageUrl)return ut(n);lt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),it(n,"width",e.imageWidth),it(n,"height",e.imageHeight),n.className=D.image,Z(n,e,"image")}(0,e),function(t,e){var n=_();pt(n,e.title||e.titleText),e.title&&vt(e.title,n),e.titleText&&(n.innerText=e.titleText),Z(n,e,"title")}(0,e),function(t,e){var n=U();J(n,e.closeButtonHtml),Z(n,e,"closeButton"),pt(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)},Wt=function(t,e){t.className="".concat(D.popup," ").concat(dt(t)?e.showClass.popup:""),e.toast?(ot([document.documentElement,document.body],D["toast-shown"]),ot(t,D.toast)):ot(t,D.modal),Z(t,e,"popup"),"string"==typeof e.customClass&&ot(t,e.customClass),e.icon&&ot(t,D["icon-".concat(e.icon)])},Gt=function(t,e){(function(t,e){var n=N();it(n,"width",e.width),it(n,"padding",e.padding),e.background&&(n.style.background=e.background),Wt(n,e)})(0,e),It(0,e),Ut(t,e),Mt(t,e),Et(0,e),function(t,e){var n=V();pt(n,e.footer),e.footer&&vt(e.footer,n),Z(n,e,"footer")}(0,e),"function"==typeof e.didRender?e.didRender(N()):"function"==typeof e.onRender&&e.onRender(N())},Yt=function(){return L()&&L().click()};var Xt=function(){var t=N();t||Sn.fire(),t=N();var e=q(),n=L(),r=z();lt(e),ut(n),ot([t,e],D.loading),lt(r),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},Jt={},Qt=function(){return new Promise((function(t){var e=window.scrollX,n=window.scrollY;Jt.restoreFocusTimeout=setTimeout((function(){Jt.previousActiveElement&&Jt.previousActiveElement.focus?(Jt.previousActiveElement.focus(),Jt.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)}))},Zt=function(){if(Jt.timeout)return function(){var t=H(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")}(),Jt.timeout.stop()},te=function(){if(Jt.timeout){var t=Jt.timeout.start();return mt(t),t}},ee={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},ne=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],re={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},oe=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],se=function(t){return Object.prototype.hasOwnProperty.call(ee,t)},ae=function(t){return re[t]},ie=function(t){se(t)||f('Unknown parameter "'.concat(t,'"'))},le=function(t){-1!==oe.indexOf(t)&&f('The parameter "'.concat(t,'" is incompatible with toasts'))},ue=function(t){ae(t)&&w(t,ae(t))},ce=Object.freeze({isValidParameter:se,isUpdatableParameter:function(t){return-1!==ne.indexOf(t)},isDeprecatedParameter:ae,argsToParams:function(e){var n={};return"object"!==t(e[0])||S(e[0])?["title","html","icon"].forEach((function(r,o){var s=e[o];"string"==typeof s||S(s)?n[r]=s:void 0!==s&&m("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(s)))})):o(n,e[0]),n},isVisible:function(){return dt(N())},clickConfirm:Yt,clickDeny:function(){return O()&&O().click()},clickCancel:function(){return K()&&K().click()},getContainer:T,getPopup:N,getTitle:_,getContent:$,getHtmlContainer:function(){return C(D["html-container"])},getImage:P,getIcon:A,getIcons:B,getInputLabel:function(){return C(D["input-label"])},getCloseButton:U,getActions:q,getConfirmButton:L,getDenyButton:O,getCancelButton:K,getLoader:z,getHeader:j,getFooter:V,getTimerProgressBar:H,getFocusableElements:W,getValidationMessage:R,isLoading:function(){return N().hasAttribute("data-loading")},fire:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return l(t,n)},mixin:function(t){return function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(h,n);var l,p,d=(l=h,p=i(),function(){var t,e=s(l);if(p){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function h(){return e(this,h),d.apply(this,arguments)}return r(h,[{key:"_main",value:function(e){return c(s(h.prototype),"_main",this).call(this,o({},t,e))}}]),h}(this)},queue:function(t){var e=this;jt=t;var n=function(t,e){jt=[],t(e)},r=[];return new Promise((function(t){!function o(s,a){s<jt.length?(document.body.setAttribute("data-swal2-queue-step",s),e.fire(jt[s]).then((function(e){void 0!==e.value?(r.push(e.value),o(s+1,a)):n(t,{dismiss:e.dismiss})}))):n(t,{value:r})}(0)}))},getQueueStep:Vt,insertQueueStep:function(t,e){return e&&e<jt.length?jt.splice(e,0,t):jt.push(t)},deleteQueueStep:function(t){void 0!==jt[t]&&jt.splice(t,1)},showLoading:Xt,enableLoading:Xt,getTimerLeft:function(){return Jt.timeout&&Jt.timeout.getTimerLeft()},stopTimer:Zt,resumeTimer:te,toggleTimer:function(){var t=Jt.timeout;return t&&(t.running?Zt():te())},increaseTimer:function(t){if(Jt.timeout){var e=Jt.timeout.increase(t);return mt(e,!0),e}},isTimerRunning:function(){return Jt.timeout&&Jt.timeout.isRunning()}});function pe(){var t=Tt.innerParams.get(this);if(t){var e=Tt.domCache.get(this);ut(e.loader),t.showConfirmButton?lt(e.confirmButton,"inline-block"):t.showConfirmButton||t.showCancelButton||ut(e.actions),st([e.popup,e.actions],D.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}}var de=function(){null===X.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(X.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(X.previousBodyPadding+function(){var t=document.createElement("div");t.className=D["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px"))},he=function(){if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){N().scrollHeight>window.innerHeight-44&&(T().style.paddingBottom="".concat(44,"px"))}},fe=function(){var t,e=T();e.ontouchstart=function(e){t=me(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}},me=function(t){var e=t.target,n=T();return!(t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType||e!==n&&(ht(n)||"INPUT"===e.tagName||ht($())&&$().contains(e)))},ge=function(){return!!window.MSInputMethodContext&&!!document.documentMode},we=function(){var t=T(),e=N();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},ye={swalPromiseResolve:new WeakMap};function be(t,e,n,r){n?De(t,r):(Qt().then((function(){return De(t,r)})),Jt.keydownTarget.removeEventListener("keydown",Jt.keydownHandler,{capture:Jt.keydownListenerCapture}),Jt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),G()&&(null!==X.previousBodyPadding&&(document.body.style.paddingRight="".concat(X.previousBodyPadding,"px"),X.previousBodyPadding=null),function(){if(Q(document.body,D.iosfix)){var t=parseInt(document.body.style.top,10);st(document.body,D.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),"undefined"!=typeof window&&ge()&&window.removeEventListener("resize",we),h(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))),st([document.documentElement,document.body],[D.shown,D["height-auto"],D["no-backdrop"],D["toast-shown"],D["toast-column"]])}function ve(t){var e=N();if(e){t=ke(t);var n=Tt.innerParams.get(this);if(n&&!Q(e,n.hideClass.popup)){var r=ye.swalPromiseResolve.get(this);st(e,n.showClass.popup),ot(e,n.hideClass.popup);var o=T();st(o,n.showClass.backdrop),ot(o,n.hideClass.backdrop),xe(this,e,n),r(t)}}}var ke=function(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:o({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},xe=function(t,e,n){var r=T(),o=St&&ft(e),s=n.onClose,a=n.onAfterClose,i=n.willClose,l=n.didClose;Se(e,i,s),o?Ee(t,e,r,l||a):be(t,r,Y(),l||a)},Se=function(t,e,n){null!==e&&"function"==typeof e?e(t):null!==n&&"function"==typeof n&&n(t)},Ee=function(t,e,n,r){Jt.swalCloseEventFinishedCallback=be.bind(null,t,n,Y(),r),e.addEventListener(St,(function(t){t.target===e&&(Jt.swalCloseEventFinishedCallback(),delete Jt.swalCloseEventFinishedCallback)}))},De=function(t,e){setTimeout((function(){"function"==typeof e&&e(),t._destroy()}))};function Ie(t,e,n){var r=Tt.domCache.get(t);e.forEach((function(t){r[t].disabled=n}))}function Te(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var Fe=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Ce={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Ne(t){(function(t){t.inputValidator||Object.keys(Ce).forEach((function(e){t.input===e&&(t.inputValidator=Ce[e])}))})(t),t.showLoaderOnConfirm&&!t.preConfirm&&f("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=y(t.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(f('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),bt(t)}var Be=function(t){var e=T(),n=N();"function"==typeof t.willOpen?t.willOpen(n):"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;Me(e,n,t),setTimeout((function(){$e(e,n)}),10),G()&&(Pe(e,t.scrollbarPadding,r),h(document.body.children).forEach((function(t){t===T()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,T())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))),Y()||Jt.previousActiveElement||(Jt.previousActiveElement=document.activeElement),Ae(n,t),st(e,D["no-transition"])},Ae=function(t,e){"function"==typeof e.didOpen?setTimeout((function(){return e.didOpen(t)})):"function"==typeof e.onOpen&&setTimeout((function(){return e.onOpen(t)}))},_e=function t(e){var n=N();if(e.target===n){var r=T();n.removeEventListener(St,t),r.style.overflowY="auto"}},$e=function(t,e){St&&ft(e)?(t.style.overflowY="hidden",e.addEventListener(St,_e)):t.style.overflowY="auto"},Pe=function(t,e,n){(function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Q(document.body,D.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),ot(document.body,D.iosfix),fe(),he()}})(),"undefined"!=typeof window&&ge()&&(we(),window.addEventListener("resize",we)),e&&"hidden"!==n&&de(),setTimeout((function(){t.scrollTop=0}))},Me=function(t,e,n){ot(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),lt(e),setTimeout((function(){ot(e,n.showClass.popup),e.style.removeProperty("opacity")}),10),ot([document.documentElement,document.body],D.shown),n.heightAuto&&n.backdrop&&!n.toast&&ot([document.documentElement,document.body],D["height-auto"])},Re=function(t){return t.checked?1:0},Le=function(t){return t.checked?t.value:null},Oe=function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},ze=function(e,n){var r=$(),o=function(t){return qe[n.input](r,je(t),n)};b(n.inputOptions)||k(n.inputOptions)?(Xt(),v(n.inputOptions).then((function(t){e.hideLoading(),o(t)}))):"object"===t(n.inputOptions)?o(n.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))},Ke=function(t,e){var n=t.getInput();ut(n),v(e.inputValue).then((function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),lt(n),n.focus(),t.hideLoading()})).catch((function(e){m("Error in inputValue promise: ".concat(e)),n.value="",lt(n),n.focus(),t.hideLoading()}))},qe={select:function(t,e,n){var r=at(t,D.select),o=function(t,e,r){var o=document.createElement("option");o.value=r,J(o,e),n.inputValue.toString()===r.toString()&&(o.selected=!0),t.appendChild(o)};e.forEach((function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var s=document.createElement("optgroup");s.label=e,s.disabled=!1,r.appendChild(s),n.forEach((function(t){return o(s,t[1],t[0])}))}else o(r,n,e)})),r.focus()},radio:function(t,e,n){var r=at(t,D.radio);e.forEach((function(t){var e=t[0],o=t[1],s=document.createElement("input"),a=document.createElement("label");s.type="radio",s.name=D.radio,s.value=e,n.inputValue.toString()===e.toString()&&(s.checked=!0);var i=document.createElement("span");J(i,o),i.className=D.label,a.appendChild(s),a.appendChild(i),r.appendChild(a)}));var o=r.querySelectorAll("input");o.length&&o[0].focus()}},je=function e(n){var r=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach((function(n,o){var s=n;"object"===t(s)&&(s=e(s)),r.push([o,s])})):Object.keys(n).forEach((function(o){var s=n[o];"object"===t(s)&&(s=e(s)),r.push([o,s])})),r},Ve=function(t,e,n){var r=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Re(n);case"radio":return Le(n);case"file":return Oe(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?He(t,e,r):t.getInput().checkValidity()?"deny"===n?Ue(t,e,r):Ge(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},He=function(t,e,n){t.disableInput(),Promise.resolve().then((function(){return v(e.inputValidator(n,e.validationMessage))})).then((function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):Ge(t,e,n)}))},Ue=function(t,e,n){e.preDeny?Promise.resolve().then((function(){return v(e.preDeny(n,e.validationMessage))})).then((function(e){!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})})):t.closePopup({isDenied:!0,value:n})},We=function(t,e){t.closePopup({isConfirmed:!0,value:e})},Ge=function(t,e,n){e.showLoaderOnConfirm&&Xt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then((function(){return v(e.preConfirm(n,e.validationMessage))})).then((function(e){dt(R())||!1===e?t.hideLoading():We(t,void 0===e?n:e)}))):We(t,n)},Ye=function(t,e,n){for(var r=W(),o=0;o<r.length;o++)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();N().focus()},Xe=["ArrowRight","ArrowDown","Right","Down"],Je=["ArrowLeft","ArrowUp","Left","Up"],Qe=["Escape","Esc"],Ze=function(t,e,n){var r=Tt.innerParams.get(t);r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?tn(t,e,r):"Tab"===e.key?en(e,r):-1!==[].concat(Xe,Je).indexOf(e.key)?nn(e.key):-1!==Qe.indexOf(e.key)&&rn(e,r,n)},tn=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Yt(),e.preventDefault()}},en=function(t,e){for(var n=t.target,r=W(),o=-1,s=0;s<r.length;s++)if(n===r[s]){o=s;break}t.shiftKey?Ye(0,o,-1):Ye(0,o,1),t.stopPropagation(),t.preventDefault()},nn=function(t){if(-1!==[L(),O(),K()].indexOf(document.activeElement)){var e=-1!==Xe.indexOf(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()}},rn=function(t,e,n){y(e.allowEscapeKey)&&(t.preventDefault(),n(x.esc))},on=function(t,e,n){e.popup.onclick=function(){var e=Tt.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.input||n(x.close)}},sn=!1,an=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(sn=!0)}}},ln=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(sn=!0)}}},un=function(t,e,n){e.container.onclick=function(r){var o=Tt.innerParams.get(t);sn?sn=!1:r.target===e.container&&y(o.allowOutsideClick)&&n(x.backdrop)}};var cn=function(t){var e=o({},ee.showClass,t.showClass),n=o({},ee.hideClass,t.hideClass),r=o({},ee,t);return r.showClass=e,r.hideClass=n,!1===t.animation&&(r.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},r.hideClass={}),r},pn=function(t,e,n){return new Promise((function(r){var o=function(e){t.closePopup({isDismissed:!0,dismiss:e})};ye.swalPromiseResolve.set(t,r),e.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?Ve(t,e,"confirm"):Ge(t,e,!0)}(t,n)},e.denyButton.onclick=function(){return function(t,e){t.disableButtons(),e.returnInputValueOnDeny?Ve(t,e,"deny"):Ue(t,e,!1)}(t,n)},e.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(x.cancel)}(t,o)},e.closeButton.onclick=function(){return o(x.close)},function(t,e,n){Tt.innerParams.get(t).toast?on(t,e,n):(an(e),ln(e),un(t,e,n))}(t,e,o),function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return Ze(t,e,r)},e.keydownTarget=n.keydownListenerCapture?window:N(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(t,Jt,n,o),n.toast&&(n.input||n.footer||n.showCloseButton)?ot(document.body,D["toast-column"]):st(document.body,D["toast-column"]),function(t,e){"select"===e.input||"radio"===e.input?ze(t,e):-1!==["text","email","number","tel","textarea"].indexOf(e.input)&&(b(e.inputValue)||k(e.inputValue))&&Ke(t,e)}(t,n),Be(n),hn(Jt,n,o),fn(e,n),setTimeout((function(){e.container.scrollTop=0}))}))},dn=function(t){var e={popup:N(),container:T(),content:$(),actions:q(),confirmButton:L(),denyButton:O(),cancelButton:K(),loader:z(),closeButton:U(),validationMessage:R(),progressSteps:M()};return Tt.domCache.set(t,e),e},hn=function(t,e,n){var r=H();ut(r),e.timer&&(t.timeout=new Fe((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(lt(r),setTimeout((function(){t.timeout.running&&mt(e.timer)}))))},fn=function(t,e){if(!e.toast)return y(e.allowEnterKey)?void(mn(t,e)||Ye(0,-1,1)):gn()},mn=function(t,e){return e.focusDeny&&dt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&dt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!dt(t.confirmButton)||(t.confirmButton.focus(),0))},gn=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};var wn,yn=function(t){"function"==typeof t.didDestroy?t.didDestroy():"function"==typeof t.onDestroy&&t.onDestroy()},bn=function(t){delete t.params,delete Jt.keydownHandler,delete Jt.keydownTarget,vn(Tt),vn(ye)},vn=function(t){for(var e in t)t[e]=new WeakMap},kn=Object.freeze({hideLoading:pe,disableLoading:pe,getInput:function(t){var e=Tt.innerParams.get(t||this),n=Tt.domCache.get(t||this);return n?tt(n.content,e.input):null},close:ve,closePopup:ve,closeModal:ve,closeToast:ve,enableButtons:function(){Ie(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Ie(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Te(this.getInput(),!1)},disableInput:function(){return Te(this.getInput(),!0)},showValidationMessage:function(t){var e=Tt.domCache.get(this),n=Tt.innerParams.get(this);J(e.validationMessage,t),e.validationMessage.className=D["validation-message"],n.customClass&&n.customClass.validationMessage&&ot(e.validationMessage,n.customClass.validationMessage),lt(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",D["validation-message"]),nt(r),ot(r,D.inputerror))},resetValidationMessage:function(){var t=Tt.domCache.get(this);t.validationMessage&&ut(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),st(e,D.inputerror))},getProgressSteps:function(){return Tt.domCache.get(this).progressSteps},_main:function(t){(function(t){for(var e in t)ie(e),t.toast&&le(e),ue(e)})(t),Jt.currentInstance&&Jt.currentInstance._destroy(),Jt.currentInstance=this;var e=cn(t);Ne(e),Object.freeze(e),Jt.timeout&&(Jt.timeout.stop(),delete Jt.timeout),clearTimeout(Jt.restoreFocusTimeout);var n=dn(this);return Gt(this,e),Tt.innerParams.set(this,e),pn(this,n,e)},update:function(t){var e=N(),n=Tt.innerParams.get(this);if(!e||Q(e,n.hideClass.popup))return f("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach((function(e){Sn.isUpdatableParameter(e)?r[e]=t[e]:f('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}));var s=o({},n,r);Gt(this,s),Tt.innerParams.set(this,s),Object.defineProperties(this,{params:{value:o({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=Tt.domCache.get(this),e=Tt.innerParams.get(this);e&&(t.popup&&Jt.swalCloseEventFinishedCallback&&(Jt.swalCloseEventFinishedCallback(),delete Jt.swalCloseEventFinishedCallback),Jt.deferDisposalTimer&&(clearTimeout(Jt.deferDisposalTimer),delete Jt.deferDisposalTimer),yn(e),bn(this))}}),xn=function(){function t(){if(e(this,t),"undefined"!=typeof window){"undefined"==typeof Promise&&m("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),wn=this;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:s,writable:!1,enumerable:!0,configurable:!0}});var a=this._main(this.params);Tt.promise.set(this,a)}}return r(t,[{key:"then",value:function(t){return Tt.promise.get(this).then(t)}},{key:"finally",value:function(t){return Tt.promise.get(this).finally(t)}}]),t}();o(xn.prototype,kn),o(xn,ce),Object.keys(kn).forEach((function(t){xn[t]=function(){var e;if(wn)return(e=wn)[t].apply(e,arguments)}})),xn.DismissReason=x,xn.version="10.9.0";var Sn=xn;return Sn.default=Sn,Sn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;padding:0;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0 1.6em}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#2778c4;color:#fff;font-size:1.0625em}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#d14529;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#757575;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{display:none;align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},6:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(275))&&r.__esModule?r:{default:r};e.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default},125:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(215)),o=i(n(255)),s=i(n(279)),a=i(n(6));function i(t){return t&&t.__esModule?t:{default:t}}var l=(0,r.default)("youtube-player"),u={proxyEvents:function(t){var e={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);e[r]=function(e){l('event "%s"',r,e),t.trigger(n,e)}},r=!0,o=!1,a=void 0;try{for(var i,u=s.default[Symbol.iterator]();!(r=(i=u.next()).done);r=!0)n(i.value)}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return e},promisifyPlayer:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){e&&a.default[r]?n[r]=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.then((function(t){var e=a.default[r],o=t.getPlayerState(),s=t[r].apply(t,n);return e.stateChangeRequired||Array.isArray(e.acceptableStates)&&-1===e.acceptableStates.indexOf(o)?new Promise((function(n){t.addEventListener("onStateChange",(function r(){var o=t.getPlayerState(),s=void 0;"number"==typeof e.timeout&&(s=setTimeout((function(){t.removeEventListener("onStateChange",r),n()}),e.timeout)),Array.isArray(e.acceptableStates)&&-1!==e.acceptableStates.indexOf(o)&&(t.removeEventListener("onStateChange",r),clearTimeout(s),n())}))})).then((function(){return s})):s}))}:n[r]=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.then((function(t){return t[r].apply(t,n)}))}},s=!0,i=!1,l=void 0;try{for(var u,c=o.default[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var p=u.value;r(p)}}catch(t){i=!0,l=t}finally{try{!s&&c.return&&c.return()}finally{if(i)throw l}}return n}};e.default=u,t.exports=e.default},275:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default},279:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default},255:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default},62:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(n(988)),s=i(n(900)),a=i(n(125));function i(t){return t&&t.__esModule?t:{default:t}}var l=void 0;e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,o.default)();if(l||(l=(0,s.default)(i)),e.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof t&&!document.getElementById(t))throw new Error('Element "'+t+'" does not exist.');e.events=a.default.proxyEvents(i);var u=new Promise((function(n){"object"===(void 0===t?"undefined":r(t))&&t.playVideo instanceof Function?n(t):l.then((function(r){var o=new r.Player(t,e);return i.on("ready",(function(){n(o)})),null}))})),c=a.default.promisifyPlayer(u,n);return c.on=i.on,c.off=i.off,c},t.exports=e.default},900:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n(90))&&r.__esModule?r:{default:r};e.default=function(t){return new Promise((function(e){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)e(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,o.default)(n+"//www.youtube.com/iframe_api",(function(e){e&&t.trigger("error",e)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),e(window.YT)}}}))},t.exports=e.default},215:(t,e,n)=>{function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=n(46)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(s=o))})),t.splice(s,0,r)}},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())},46:(t,e,n)=>{var r;function o(t){function n(){if(n.enabled){var t=n,o=+new Date,s=o-(r||o);t.diff=s,t.prev=r,t.curr=o,r=o;for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var o=e.formatters[r];if("function"==typeof o){var s=a[l];n=o.call(t,s),a.splice(l,1),l--}return n})),e.formatArgs.call(t,a);var u=n.log||e.log||console.log.bind(console);u.apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=o.debug=o.default=o).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(t=n[o].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(680),e.names=[],e.skips=[],e.formatters={}},680:t=>{var e=1e3,n=60*e,r=60*n,o=24*r;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,a){a=a||{};var i,l=typeof t;if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(t);if("number"===l&&!1===isNaN(t))return a.long?s(i=t,o,"day")||s(i,r,"hour")||s(i,n,"minute")||s(i,e,"second")||i+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=r?Math.round(t/r)+"h":t>=n?Math.round(t/n)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},352:()=>{},758:()=>{}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";function t(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function e(t,e,n){return Math.max(t,Math.min(e,n))}function r(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function o(t,e,n=""){r(i(t,e),(()=>n+` Shapes ${t} and ${e} must match`))}function s(t,e=[],n=!1){if(null==e&&(e=[]),Array.isArray(t)||p(t)&&!n)for(let r=0;r<t.length;++r)s(t[r],e,n);else e.push(t);return e}function a(t){if(0===t.length)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function i(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function l(t){return t%1==0}function u(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function c(t,e){const n=e.length;return r((t=null==t?e.map(((t,e)=>e)):[].concat(t)).every((t=>t>=-n&&t<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis `+t)),r(t.every((t=>l(t))),(()=>"All values in axis param must be integers but got axis "+t)),t.map((t=>t<0?n+t:t))}function p(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function d(t){return"string"==typeof t||t instanceof String}function h(t){return Array.isArray(t)?h(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":"number"==typeof t?"float32":d(t)?"string":"boolean"==typeof t?"bool":"float32"}function f(t){return!!(t&&t.constructor&&t.call&&t.apply)}function m(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function g(t,e,n){const r=new Array;if(1===e.length){const o=e[0];for(let e=0;e<o;e++)r[e]=n[t+e]}else{const o=e[0],s=e.slice(1),a=s.reduce(((t,e)=>t*e));for(let e=0;e<o;e++)r[e]=g(t+e*a,s,n)}return r}function w(t,e){if(0===t.length)return e[0];const n=t.reduce(((t,e)=>t*e));if(0===n)return[];if(n!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}.`);return g(0,t,e)}function y(t,e){const n=b(t,e);for(let t=0;t<n.length;t++)n[t]=1;return n}function b(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}function v(t){t.forEach((e=>{r(Number.isInteger(e)&&e>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`))}))}function k(t){return t&&t.then&&"function"==typeof t.then}n(62),n(455);class x{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}setPlatform(t,e){null!=this.platform&&console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`),this.platformName=t,this.platform=e}registerFlag(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},null!=this.urlFlags[t]){const e=this.urlFlags[t];console.warn(`Setting feature override from URL ${t}: ${e}.`),this.set(t,e)}}async getAsync(t){return t in this.flags||(this.flags[t]=await this.evaluateFlag(t)),this.flags[t]}get(t){if(t in this.flags)return this.flags[t];const e=this.evaluateFlag(t);if(k(e))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=e,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,e){if(null==this.flagRegistry[t])throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)}evaluateFlag(t){if(null==this.flagRegistry[t])throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const t=function(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((t,...n)=>(function(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}(e,n[0],n[1]),n.join("=")))),e}(this.global.location.search);"tfjsflags"in t&&t.tfjsflags.split(",").forEach((t=>{const[e,n]=t.split(":");this.urlFlags[e]=function(t,e){if("true"===(e=e.toLowerCase())||"false"===e)return"true"===e;if(""+ +e===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}(e,n)}))}}function S(){return D}let E,D=null;function I(){if(null==E){let t;if("undefined"!=typeof window)t=window;else if(void 0!==n.g)t=n.g;else if("undefined"!=typeof process)t=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}E=t}return E}function T(t,e){const n=function(){const t=I();return null==t._tfGlobals&&(t._tfGlobals=new Map),t._tfGlobals}();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const F="Acos",C="Acosh",N="Add",B="ArgMax",A="ArgMin",_="Asin",$="Asinh",P="Atan",M="Atanh",R="Atan2",L="AvgPool",O="BatchMatMul",z="BatchToSpaceND",K="BroadcastTo",q="Cast",j="Ceil",V="ClipByValue",H="Concat",U="Conv2D",W="Conv2DBackpropInput",G="Cosh",Y="Cumsum",X="DepthwiseConv2dNative",J="Dilation2D",Q="Expm1",Z="Floor",tt="FloorDiv",et="FusedBatchNorm",nt="GatherV2",rt="GreaterEqual",ot="Identity",st="IsFinite",at="IsInf",it="IsNan",lt="Log1p",ut="LogSoftmax",ct="Maximum",pt="MaxPool",dt="Minimum",ht="MirrorPad",ft="Multiply",mt="Negate",gt="OnesLike",wt="OneHot",yt="PadV2",bt="Prelu",vt="Reciprocal",kt="Relu",xt="Reshape",St="ResizeNearestNeighbor",Et="ResizeBilinear",Dt="Relu6",It="Reverse",Tt="Round",Ft="Rsqrt",Ct="SelectV2",Nt="Selu",Bt="Slice",At="Sinh",_t="Sign",$t="Sigmoid",Pt="Softplus",Mt="Sqrt",Rt="SpaceToBatchND",Lt="SplitV",Ot="Softmax",zt="SquaredDifference",Kt="Tanh",qt="Tile",jt="Transpose",Vt="Unpack",Ht="UnsortedSegmentSum",Ut="ZerosLike",Wt="Step",Gt=T("kernelRegistry",(()=>new Map)),Yt=T("gradRegistry",(()=>new Map));function Xt(t){return Yt.get(t)}function Jt(t){const e=Gt.entries(),n=[];for(;;){const{done:r,value:o}=e.next();if(r)break;const[s,a]=o,[i]=s.split("_");i===t&&n.push(a)}return n}function Qt(t){const{kernelName:e}=t;Yt.has(e)&&S().getBool("DEBUG")&&console.warn(`Overriding the gradient for '${e}'`),Yt.set(e,t)}class Zt{constructor(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new ee)}profileKernel(t,e,n){let r;const o=this.backendTimer.time((()=>{r=n()}));for(let e=0;e<r.length;e++){const n=r[e];n.data().then((e=>{te(e,n.dtype,t)}))}return{kernelName:t,outputs:r,inputs:e,timeMs:o.then((t=>t.kernelMs)),extraInfo:o.then((t=>null!=t.getExtraProfileInfo?t.getExtraProfileInfo():""))}}logKernelProfile(t){const{kernelName:e,outputs:n,timeMs:r,inputs:o,extraInfo:s}=t;n.forEach((t=>{Promise.all([t.data(),r,s]).then((n=>{this.logger.logKernelProfile(e,t,n[0],n[1],o,n[2])}))}))}}function te(t,e,n){if("float32"!==e)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${n}'`),!0}return!1}class ee{logKernelProfile(t,e,n,r,o,s){const a="number"==typeof r?u(r+"ms",9):r.error,i=u(t,25),l=e.rank,c=e.size,p=u(e.shape.toString(),14);let d="";for(const t in o){const n=o[t];if(null!=n){const r=n.shape||e.shape,o=r.length;d+=`${t}: ${o}D ${o>0?r:""} `}}console.log(`%c${i}\t%c${a}\t%c${l}D ${p}\t%c${c}\t%c${d}\t%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function ne(t,e,n,r){const o=m(e),s=function(t,e,n,r){const o=a(e),s=r[r.length-1],i=new Array(s).fill(0),l=e.length,u="complex64"===n?ae(t):t;if(l>1)for(let t=0;t<o/s;t++){const e=t*s;for(let t=0;t<s;t++)i[t]=Math.max(i[t],re(u[e+t],0,n).length)}return i}(t,e,n,o),i=e.length,l=se(t,e,n,o,s),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+i),u.push(`  shape: [${e}]`),u.push("  values:")),u.push(l.map((t=>"    "+t)).join("\n")),u.join("\n")}function re(t,e,n){let r;return r=Array.isArray(t)?parseFloat(t[0].toFixed(7))+" + "+parseFloat(t[1].toFixed(7))+"j":d(t)?`'${t}'`:"bool"===n?oe(t):parseFloat(t.toFixed(7)).toString(),u(r,e)}function oe(t){return 0===t?"false":"true"}function se(t,e,n,r,o,s=!0){const a="complex64"===n?2:1,i=e[0],l=e.length;if(0===l)return"complex64"===n?[re(ae(t)[0],0,n)]:"bool"===n?[oe(t[0])]:[t[0].toString()];if(1===l){if(i>20){const e=3*a;let r=Array.from(t.slice(0,e)),s=Array.from(t.slice((i-3)*a,i*a));return"complex64"===n&&(r=ae(r),s=ae(s)),["["+r.map(((t,e)=>re(t,o[e],n))).join(", ")+", ..., "+s.map(((t,e)=>re(t,o[i-3+e],n))).join(", ")+"]"]}return["["+("complex64"===n?ae(t):Array.from(t)).map(((t,e)=>re(t,o[e],n))).join(", ")+"]"]}const u=e.slice(1),c=r.slice(1),p=r[0]*a,d=[];if(i>20){for(let e=0;e<3;e++){const r=e*p,s=r+p;d.push(...se(t.slice(r,s),u,n,c,o,!1))}d.push("...");for(let e=i-3;e<i;e++){const r=e*p,s=r+p;d.push(...se(t.slice(r,s),u,n,c,o,e===i-1))}}else for(let e=0;e<i;e++){const r=e*p,s=r+p;d.push(...se(t.slice(r,s),u,n,c,o,e===i-1))}const h=2===l?",":"";d[0]="["+d[0]+h;for(let t=1;t<d.length-1;t++)d[t]=" "+d[t]+h;let f=",\n";for(let t=2;t<l;t++)f+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(s?"":f),d}function ae(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}function ie(t,e){if("string"===e)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=s(t)),S().getBool("DEBUG")&&function(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}(t,e),function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e))return t;if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){const e=new Uint8Array(t.length);for(let n=0;n<e.length;++n)0!==Math.round(t[n])&&(e[n]=1);return e}throw new Error("Unknown data type "+e)}function le(){return S().platform.now()}function ue(t,e="utf-8"){return e=e||"utf-8",S().platform.decode(t,e)}class ce{constructor(t,e,n){if(this.dtype=e,this.shape=t.slice(),this.size=a(t),null!=n){const t=n.length;r(t===this.size,(()=>`Length of values '${t}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||function(t,e){let n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else if("bool"===t)n=new Uint8Array(e);else{if("string"!==t)throw new Error("Unknown data type "+t);n=new Array(e)}return n}(e,this.size),this.strides=m(t)}set(t,...e){0===e.length&&(e=[0]),r(e.length===this.rank,(()=>`The number of provided coordinates (${e.length}) must match the rank (${this.rank})`));const n=this.locToIndex(e);this.values[n]=t}get(...t){0===t.length&&(t=[0]);let e=0;for(const n of t){if(n<0||n>=this.shape[e]){const e=`Requested out of range element at ${t}.   Buffer shape=`+this.shape;throw new Error(e)}e++}let n=t[t.length-1];for(let e=0;e<t.length-1;++e)n+=this.strides[e]*t[e];return this.values[n]}locToIndex(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];let e=t[t.length-1];for(let n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e}indexToLoc(t){if(0===this.rank)return[];if(1===this.rank)return[t];const e=new Array(this.shape.length);for(let n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e}get rank(){return this.shape.length}toTensor(){return pe().makeTensor(this.values,this.shape,this.dtype)}}let pe=null,de=null,he=null;class fe{constructor(t,e,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=a(t),this.strides=m(t),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const t=await this.data();return de.buffer(this.shape,this.dtype,t)}bufferSync(){return de.buffer(this.shape,this.dtype,this.dataSync())}async array(){const t=await this.data();return w(this.shape,t)}arraySync(){return w(this.shape,this.dataSync())}async data(){this.throwIfDisposed();const t=pe().read(this.dataId);if("string"===this.dtype){const e=await t;try{return e.map((t=>ue(t)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t}dataSync(){this.throwIfDisposed();const t=pe().readSync(this.dataId);if("string"===this.dtype)try{return t.map((t=>ue(t)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}async bytes(){this.throwIfDisposed();const t=await pe().read(this.dataId);return"string"===this.dtype?t:new Uint8Array(t.buffer)}dispose(){this.isDisposed||(pe().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return de.print(this,t)}clone(){return this.throwIfDisposed(),de.clone(this)}toString(t=!1){return ne(this.dataSync(),this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),de.cast(this,t)}variable(t=!0,e,n){return this.throwIfDisposed(),pe().makeVariable(this,t,e,n)}}Object.defineProperty(fe,Symbol.hasInstance,{value:t=>!!t&&null!=t.data&&null!=t.dataSync&&null!=t.throwIfDisposed});class me extends fe{constructor(t,e,n,r){super(t.shape,t.dtype,t.dataId,r),this.trainable=e,this.name=n}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!i(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);pe().disposeTensor(this),this.dataId=t.dataId,pe().incRef(this,null)}dispose(){pe().disposeVariable(this),this.isDisposedInternal=!0}}var ge,we,ye,be,ve;Object.defineProperty(me,Symbol.hasInstance,{value:t=>t instanceof fe&&null!=t.assign&&t.assign instanceof Function}),function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(ge||(ge={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(we||(we={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(ye||(ye={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(be||(be={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(ve||(ve={}));const ke={float32:be,int32:we,bool:ye,complex64:ve};function xe(t,e){if(t.dtype===e.dtype)return[t,e];const n=function(t,e){if("string"===t||"string"===e){if("string"===t&&"string"===e)return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return ke[t][e]}(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Se(t){const e=[];return Ee(t,e,new Set),e}function Ee(t,e,n){if(null==t)return;if(t instanceof fe)return void e.push(t);if(r=t,!Array.isArray(r)&&"object"!=typeof r)return;var r;const o=t;for(const t in o){const r=o[t];n.has(r)||(n.add(r),Ee(r,e,n))}}class De{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class Ie{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new De}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const t=this.getSortedBackends();for(let e=0;e<t.length;e++){const n=t[e];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:t,asyncInit:e}=this.initializeBackendsAndReturnBest();if(e)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;{const{asyncInit:e}=this.initializeBackend(t);if(e)return null}}return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,e,n=1){return t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:e,priority:n},!0)}async setBackend(t){if(null==this.registryFactory[t])throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,null==this.registry[t]){this.backendInstance=null;const{success:e,asyncInit:n}=this.initializeBackend(t);if(!(n?await e:e))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new Zt(this.backendInstance),!0}setupRegisteredKernels(){Jt(this.backendName).forEach((t=>{null!=t.setupFunc&&t.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(t){Jt(t).forEach((e=>{null!=e.disposeFunc&&e.disposeFunc(this.registry[t])}))}initializeBackend(e){const n=this.registryFactory[e];if(null==n)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(!r||r instanceof class{time(e){return t("time")}read(e){return t("read")}readSync(e){return t("readSync")}numDataIds(){return t("numDataIds")}disposeData(e){return t("disposeData")}write(e,n,r){return t("write")}move(e,n,r,o){return t("move")}memory(){return t("memory")}floatPrecision(){return t("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}batchMatMul(e,n,r,o){return t("batchMatMul")}fusedBatchMatMul({a:e,b:n,transposeA:r,transposeB:o,bias:s,activation:a,preluActivationWeights:i}){return t("fusedBatchMatMul")}slice(e,n,r){return t("slice")}stridedSlice(e,n,r,o){return t("stridedSlice")}unstack(e,n){return t("unstack")}reverse(e,n){return t("reverse")}concat(e,n){return t("concat")}neg(e){return t("neg")}add(e,n){return t("add")}addN(e){return t("addN")}subtract(e,n){return t("subtract")}multiply(e,n){return t("multiply")}realDivide(e,n){return t("realDivide")}floorDiv(e,n){return t("floorDiv")}sum(e,n){return t("sum")}prod(e,n){return t("prod")}unsortedSegmentSum(e,n,r){return t("unsortedSegmentSum")}argMin(e,n){return t("argMin")}argMax(e,n){return t("argMax")}equal(e,n){return t("equal")}notEqual(e,n){return t("notEqual")}less(e,n){return t("less")}lessEqual(e,n){return t("lessEqual")}greater(e,n){return t("greater")}greaterEqual(e,n){return t("greaterEqual")}logicalNot(e){return t("logicalNot")}logicalAnd(e,n){return t("logicalAnd")}logicalOr(e,n){return t("logicalOr")}where(e){return t("where")}select(e,n,r){return t("select")}topk(e,n,r){return t("topk")}min(e,n){return t("min")}minimum(e,n){return t("minimum")}mod(e,n){return t("mod")}max(e,n){return t("max")}maximum(e,n){return t("maximum")}all(e,n){return t("all")}any(e,n){return t("any")}squaredDifference(e,n){return t("squaredDifference")}ceil(e){return t("ceil")}floor(e){return t("floor")}round(e){return t("round")}sign(e){return t("sign")}isNaN(e){return t("isNaN")}isInf(e){return t("isInf")}isFinite(e){return t("isFinite")}pow(e,n){return t("pow")}exp(e){return t("exp")}expm1(e){return t("expm1")}softmax(e,n){return t("softmax")}log(e){return t("log")}log1p(e){return t("log1p")}sqrt(e){return t("sqrt")}rsqrt(e){return t("rsqrt")}square(e){return t("square")}reciprocal(e){return t("reciprocal")}relu(e){return t("relu")}relu6(e){return t("relu6")}prelu(e,n){return t("prelu")}elu(e){return t("elu")}eluDer(e,n){return t("eluDer")}selu(e){return t("selu")}int(e){return t("int")}clip(e,n,r){return t("clip")}abs(e){return t("abs")}complexAbs(e){return t("complexAbs")}sigmoid(e){return t("sigmoid")}softplus(e){return t("softplus")}sin(e){return t("sin")}cos(e){return t("cos")}tan(e){return t("tan")}asin(e){return t("asin")}acos(e){return t("acos")}atan(e){return t("atan")}atan2(e,n){return t("atan2")}sinh(e){return t("sinh")}cosh(e){return t("cosh")}tanh(e){return t("tanh")}asinh(e){return t("asinh")}acosh(e){return t("acosh")}atanh(e){return t("atanh")}erf(e){return t("erf")}step(e,n){return t("step")}fusedConv2d({input:e,filter:n,convInfo:r,bias:o,activation:s,preluActivationWeights:a}){return t("fusedConv2d")}conv2d(e,n,r){return t("conv2d")}conv2dDerInput(e,n,r){return t("conv2dDerInput")}conv2dDerFilter(e,n,r){return t("conv2dDerFilter")}fusedDepthwiseConv2D({input:e,filter:n,convInfo:r,bias:o,activation:s,preluActivationWeights:a}){return t("fusedDepthwiseConv2D")}depthwiseConv2D(e,n,r){return t("depthwiseConv2D")}depthwiseConv2DDerInput(e,n,r){return t("depthwiseConv2DDerInput")}depthwiseConv2DDerFilter(e,n,r){return t("depthwiseConv2DDerFilter")}conv3d(e,n,r){return t("conv3d")}conv3dDerInput(e,n,r){return t("conv3dDerInput")}conv3dDerFilter(e,n,r){return t("conv3dDerFilter")}maxPool(e,n){return t("maxPool")}maxPoolBackprop(e,n,r,o){return t("maxPoolBackprop")}avgPool(e,n){return t("avgPool")}avgPoolBackprop(e,n,r){return t("avgPoolBackprop")}avgPool3d(e,n){return t("avgPool3d")}avgPool3dBackprop(e,n,r){return t("avgPool3dBackprop")}maxPool3d(e,n){return t("maxPool3d")}maxPool3dBackprop(e,n,r,o){return t("maxPool3dBackprop")}reshape(e,n){return t("reshape")}cast(e,n){return t("cast")}tile(e,n){return t("tile")}pad(e,n,r){return t("pad")}transpose(e,n){return t("transpose")}gather(e,n,r){return t("gather")}gatherND(e,n){return t("gatherND")}scatterND(e,n,r){return t("scatterND")}batchToSpaceND(e,n,r){return t("batchToSpaceND")}spaceToBatchND(e,n,r){return t("spaceToBatchND")}resizeBilinear(e,n,r,o){return t("resizeBilinear")}resizeBilinearBackprop(e,n,r){return t("resizeBilinearBackprop")}resizeNearestNeighbor(e,n,r,o){return t("resizeNearestNeighbor")}resizeNearestNeighborBackprop(e,n,r){return t("resizeNearestNeighborBackprop")}batchNorm(e,n,r,o,s,a){return t("batchNorm")}localResponseNormalization4D(e,n,r,o,s){return t("localResponseNormalization4D")}LRNGrad(e,n,r,o,s,a,i){return t("LRNGrad")}multinomial(e,n,r,o){return t("multinomial")}oneHot(e,n,r,o){return t("oneHot")}cumsum(e,n,r,o){return t("cumsum")}nonMaxSuppression(e,n,r,o,s){return t("nonMaxSuppression")}fft(e){return t("fft")}ifft(e){return t("ifft")}complex(e,n){return t("complex")}real(e){return t("real")}imag(e){return t("imag")}cropAndResize(e,n,r,o,s,a){return t("cropAndResize")}depthToSpace(e,n,r){return t("depthToSpace")}split(e,n,r){return t("split")}sparseToDense(e,n,r,o){return t("sparseToDense")}diag(e){return t("diag")}fill(e,n,r){return t("fill")}onesLike(e){return t("onesLike")}zerosLike(e){return t("zerosLike")}linspace(e,n,r){return t("linspace")}dispose(){return t("dispose")}}||"function"!=typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,n=r.then((n=>!(t<this.pendingBackendInitId||(this.registry[e]=n,this.pendingBackendInit=null,0)))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,console.warn(`Initialization of backend ${e} failed`),console.warn(n.stack||n.message)),!1)));return this.pendingBackendInit=n,{success:n,asyncInit:!0}}}catch(t){return console.warn(`Initialization of backend ${e} failed`),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((t,e)=>this.registryFactory[e].priority-this.registryFactory[t].priority))}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let e=0;e<t.length;e++){const n=t[e],{success:r,asyncInit:o}=this.initializeBackend(n);if(o||r)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,e){const n=this.state.tensorInfo.get(e),r=n.backend,o=this.readSync(e);r.disposeData(e),n.backend=t,t.move(e,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,e){let n,r=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=e(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(t,e,n){t();try{const t=n();return e(),t}catch(t){throw e(),t}}nextTensorId(){return Ie.nextTensorId++}nextVariableId(){return Ie.nextVariableId++}clone(t){const e=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),n={x:t};return this.addTapeNode(this.state.activeScope.name,n,[e],(t=>({x:()=>{const e="float32",n={x:t},r={dtype:e};return Fe.runKernelFunc((n=>n.cast(t,e)),n,null,q,r)}})),[],{}),e}runKernel(t,e,n,r,o){return this.runKernelFunc(null,e,null,t,n,r,o)}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,e,n){const r=this.backend.numDataIds();let o=0;n.forEach((t=>{o+="complex64"===t.dtype?3:1}));const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-e-o-s;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${t}'`)}runKernelFunc(t,e,n,r,o,s,a){let i,l=[];const u=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");const c=this.state.numBytes,p=this.state.numTensors;let d;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);const h=function(t,e){const n=function(t,e){return`${e}_${t}`}(t,e);return Gt.get(n)}(r,this.backendName);let f,m;if(null!=h)d=()=>{const t=this.backend.numDataIds();f=h.kernelFunc({inputs:e,attrs:o,backend:this.backend});const n=Array.isArray(f)?f:[f];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(r,t,n);const i=n.map((({dataId:t,shape:e,dtype:n})=>this.makeTensorFromDataId(t,e,n)));if(u){let t=this.getTensorsForGradient(r,e,i);if(null==t){null==a&&(a=[]);const e=i.filter(((t,e)=>a[e]));t=(s||[]).slice().concat(e)}l=this.saveTensorsForBackwardMode(t)}return i};else{const e=t=>{u&&(l=t.map((t=>this.keep(this.clone(t)))))};d=()=>{const n=this.backend.numDataIds();f=this.tidy((()=>t(this.backend,e)));const o=Array.isArray(f)?f:[f];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(r,n,o),o}}return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(m=this.profiler.profileKernel(r,e,(()=>d())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),i=m.outputs):i=d()})),u&&this.addTapeNode(r,e,i,n,l,o),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-c,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map((t=>null!=e[t]?e[t].shape:null)),outputShapes:i.map((t=>t.shape)),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(f)?i:i[0]}saveTensorsForBackwardMode(t){return t.map((t=>this.keep(this.clone(t))))}getTensorsForGradient(t,e,n){const o=Xt(t);if(null!=o){const t=o.inputsToSave||[],s=o.outputsToSave||[];let a;o.saveAllInputs?(r(Array.isArray(e),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(e).map((t=>e[t]))):a=t.map((t=>e[t]));const i=n.filter(((t,e)=>s[e]));return a.concat(i)}return null}makeTensor(t,e,n,r){if(null==t)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let o=t;"string"===n&&d(t[0])&&(o=t.map((t=>function(t,e="utf-8"){return e=e||"utf-8",S().platform.encode(t,e)}(t))));const s=r.write(o,e,n),a=new fe(e,n,s,this.nextTensorId());if(this.incRef(a,r),"string"===n){const t=this.state.tensorInfo.get(s),e=function(t){if(null==t)return 0;let e=0;return t.forEach((t=>e+=t.length)),e}(o);this.state.numBytes+=e-t.bytes,t.bytes=e}return a}makeTensorFromDataId(t,e,n,r){const o=new fe(e,n=n||"float32",t,this.nextTensorId());return this.incRef(o,r),o}makeVariable(t,e=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.cast(r));const o=new me(t,e,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}incRef(t,e){const n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;let n=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(n=t.size*function(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:e||this.backend,dtype:t.dtype,shape:t.shape,bytes:n,refCount:0}),this.state.numBytes+=n}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof me||this.track(t)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;this.state.numTensors--,"string"===t.dtype&&this.state.numStringTensors--;const e=this.state.tensorInfo.get(t.dataId);e.refCount<=1?("complex64"!==t.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}disposeVariables(){for(const t in this.state.registeredVariables){const e=this.state.registeredVariables[t];this.disposeVariable(e)}}disposeVariable(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const e=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((t=>t.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const t of this.state.activeProfile.kernels)t.kernelTimeMs=await t.kernelTimeMs,t.extraInfo=await t.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(t,e,n,r,o,s){const a={id:this.state.nextTapeNodeId++,kernelName:t,inputs:e,outputs:n,saved:o},i=Xt(t);null!=i&&(r=i.gradFunc),null!=r&&(a.gradient=t=>(t=t.map(((t,e)=>{if(null==t){const t=n[e],r=b(t.size,t.dtype);return this.makeTensor(r,t.shape,t.dtype)}return t})),r(t.length>1?t:t[0],o,s))),this.state.activeTape.push(a)}keep(t){return t.kept=!0,t}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(e.name=t),this.state.scopeStack.push(e),this.state.activeScope=e}endScope(t){const e=Se(t),n=new Set(e.map((t=>t.id)));for(let t=0;t<this.state.activeScope.track.length;t++){const e=this.state.activeScope.track[t];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],e.forEach((t=>{t.kept||t.scopeId!==r.id||this.track(t)}))}gradients(t,e,n,o=!1){if(r(e.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const s=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",t)));r(s instanceof fe,(()=>"The result y returned by f() must be a tensor."));const l=function(t,e,n){const r={},o={};for(let t=0;t<e.length;t++)r[e[t].id]=!0;for(let n=0;n<t.length;n++){const s=t[n],a=s.inputs;for(const t in a){const n=a[t];let i=!1;for(let t=0;t<e.length;t++)if(r[n.id]){s.outputs.forEach((t=>r[t.id]=!0)),i=!0,o[s.id]=!0;break}if(i)break}}const s={};s[n.id]=!0;const a={};for(let e=t.length-1;e>=0;e--){const n=t[e],r=n.inputs;for(let t=0;t<n.outputs.length;t++)if(s[n.outputs[t].id]){for(const t in r)s[r[t].id]=!0,a[n.id]=!0;break}}const i=[];for(let e=0;e<t.length;e++){const n=t[e];if(o[n.id]&&a[n.id]){const t={};for(const e in n.inputs){const o=n.inputs[e];r[o.id]&&(t[e]=o)}const e=Object.assign({},n);e.inputs=t,e.outputs=n.outputs,i.push(e)}}return i}(this.state.activeTape,e,s);if(!o&&0===l.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const t={};t[s.id]=null==n?function(t){const e=y(a(t),"float32");return Fe.makeTensor(e,t,"float32")}(s.shape):n,function(t,e,n,r){for(let o=e.length-1;o>=0;o--){const s=e[o],a=[];if(s.outputs.forEach((e=>{const n=t[e.id];null!=n?a.push(n):a.push(null)})),null==s.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const l=s.gradient(a);for(const e in s.inputs){if(!(e in l))throw new Error(`Cannot backprop through input ${e}. Available gradients found: ${Object.keys(l)}.`);const o=n((()=>l[e]()));if("float32"!==o.dtype)throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${e} must have 'float32' dtype, but has '${o.dtype}'`);const a=s.inputs[e];if(!i(o.shape,a.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${e}' has shape '${o.shape}', which does not match the shape of the input '${a.shape}'`);if(null==t[a.id])t[a.id]=o;else{const e=t[a.id];t[a.id]=r(e,o),e.dispose()}}}}(t,l,(t=>this.tidy(t)),Ce);const r=e.map((e=>t[e.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((t=>{for(const e of t.saved)e.dispose()})),this.state.activeTape=null),{value:s,grads:r}}))}customGrad(t){return r(f(t),(()=>"The f passed in customGrad(f) must be a function.")),(...e)=>{let n;r(e.every((t=>t instanceof fe)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const o={};return e.forEach(((t,e)=>{o[e]=t})),this.runKernelFunc(((o,s)=>(n=t(...e,s),r(n.value instanceof fe,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),r(f(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value)),o,((t,o)=>{const s=n.gradFunc(t,o),a=Array.isArray(s)?s:[s];r(a.length===e.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),r(a.every((t=>t instanceof fe)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const i={};return a.forEach(((t,e)=>{i[e]=()=>t})),i}))}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}async time(t){const e=le(),n=await this.backend.time(t);return n.wallMs=le()-e,n}track(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new De;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function Te(){const t=I();if(null==t._tfengine){const e=new x(t);t._tfengine=new Ie(e)}var e;return e=t._tfengine.ENV,D=e,pe=()=>t._tfengine,t._tfengine}Ie.nextTensorId=0,Ie.nextVariableId=0;const Fe=Te();function Ce(t,e){const n={a:t,b:e};return Fe.runKernelFunc(((n,r)=>{const o=n.add(t,e);return r([t,e]),o}),n,null,N)}const Ne=S();Ne.registerFlag("DEBUG",(()=>!1),(t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Ne.registerFlag("IS_BROWSER",(()=>"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope)),Ne.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),Ne.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),Ne.registerFlag("PROD",(()=>!1)),Ne.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>Ne.getBool("DEBUG"))),Ne.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),Ne.registerFlag("IS_TEST",(()=>!1));const Be="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Ae(t){return Be?Buffer.byteLength(t):new Blob([t]).size}function _e(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:Ae(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:Ae(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}class $e{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==$e.instance&&($e.instance=new $e),$e.instance}static registerSaveRouter(t){$e.getInstance().saveRouters.push(t)}static registerLoadRouter(t){$e.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return $e.getHandlers(t,"save")}static getLoadHandlers(t,e){return $e.getHandlers(t,"load",e)}static getHandlers(t,e,n){const r=[];return("load"===e?$e.getInstance().loadRouters:$e.getInstance().saveRouters).forEach((e=>{const o=e(t,n);null!==o&&r.push(o)})),r}}const Pe="tensorflowjs",Me="models_store",Re="model_info_store";function Le(){if(!S().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t="undefined"==typeof window?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Oe(t){const e=t.result;e.createObjectStore(Me,{keyPath:"modelPath"}),e.createObjectStore(Re,{keyPath:"modelPath"})}class ze{constructor(t){if(this.indexedDB=Le(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,t)}async load(){return this.databaseAction(this.modelPath)}databaseAction(t,e){return new Promise(((t,n)=>{const r=this.indexedDB.open(Pe,1);r.onupgradeneeded=()=>Oe(r),r.onsuccess=()=>{const o=r.result;if(null==e){const e=o.transaction(Me,"readonly"),r=e.objectStore(Me).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return o.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));t(r.result.modelArtifacts)},r.onerror=t=>(o.close(),n(r.error)),e.oncomplete=()=>o.close()}else{const r=_e(e),s=o.transaction(Re,"readwrite");let a=s.objectStore(Re);const i=a.put({modelPath:this.modelPath,modelArtifactsInfo:r});let l;i.onsuccess=()=>{l=o.transaction(Me,"readwrite");const i=l.objectStore(Me).put({modelPath:this.modelPath,modelArtifacts:e,modelArtifactsInfo:r});i.onsuccess=()=>t({modelArtifactsInfo:r}),i.onerror=t=>{a=s.objectStore(Re);const e=a.delete(this.modelPath);e.onsuccess=()=>(o.close(),n(i.error)),e.onerror=t=>(o.close(),n(i.error))}},i.onerror=t=>(o.close(),n(i.error)),s.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}}},r.onerror=t=>n(r.error)}))}}ze.URL_SCHEME="indexeddb://";const Ke=t=>{return S().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(ze.URL_SCHEME)?(e=t.slice(ze.URL_SCHEME.length),new ze(e)):null;var e};$e.registerSaveRouter(Ke),$e.registerLoadRouter(Ke);class qe{constructor(){this.indexedDB=Le()}async listModels(){return new Promise(((t,e)=>{const n=this.indexedDB.open(Pe,1);n.onupgradeneeded=()=>Oe(n),n.onsuccess=()=>{const r=n.result,o=r.transaction(Re,"readonly"),s=o.objectStore(Re).getAll();s.onsuccess=()=>{const e={};for(const t of s.result)e[t.modelPath]=t.modelArtifactsInfo;t(e)},s.onerror=t=>(r.close(),e(s.error)),o.oncomplete=()=>r.close()},n.onerror=t=>e(n.error)}))}async removeModel(t){var e;return t=(e=t).startsWith(ze.URL_SCHEME)?e.slice(ze.URL_SCHEME.length):e,new Promise(((e,n)=>{const r=this.indexedDB.open(Pe,1);r.onupgradeneeded=()=>Oe(r),r.onsuccess=()=>{const o=r.result,s=o.transaction(Re,"readwrite"),a=s.objectStore(Re),i=a.get(t);let l;i.onsuccess=()=>{if(null==i.result)return o.close(),n(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const r=a.delete(t),s=()=>{l=o.transaction(Me,"readwrite");const r=l.objectStore(Me).delete(t);r.onsuccess=()=>e(i.result.modelArtifactsInfo),r.onerror=t=>n(i.error)};r.onsuccess=s,r.onerror=t=>(s(),o.close(),n(i.error))}},i.onerror=t=>(o.close(),n(i.error)),s.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}},r.onerror=t=>n(r.error)}))}}const je="/",Ve="tensorflowjs_models",He="info",Ue="model_topology",We="weight_specs",Ge="weight_data",Ye="model_metadata";function Xe(t){return{info:[Ve,t,He].join(je),topology:[Ve,t,Ue].join(je),weightSpecs:[Ve,t,We].join(je),weightData:[Ve,t,Ge].join(je),modelMetadata:[Ve,t,Ye].join(je)}}function Je(t){const e=t.split(je);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(je)}class Qe{constructor(t){if(!S().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=Xe(this.modelPath)}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const e=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),r=_e(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(t){if(Be)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let t=0,r=e.length;t<r;t++)n+=String.fromCharCode(e[t]);return btoa(n)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),{modelArtifactsInfo:r}}catch(t){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const t=JSON.parse(this.LS.getItem(this.keys.info));if(null==t)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const e={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);e.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);e.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(null!=o){const t=JSON.parse(o);e.format=t.format,e.generatedBy=t.generatedBy,e.convertedBy=t.convertedBy,e.userDefinedMetadata=t.userDefinedMetadata}const s=this.LS.getItem(this.keys.weightData);if(null==s)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return e.weightData=function(t){if(Be){const e=Buffer.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let t=0;t<e.length;++t)n.set([e.charCodeAt(t)],t);return n.buffer}(s),e}}Qe.URL_SCHEME="localstorage://";const Ze=t=>{return S().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Qe.URL_SCHEME)?(e=t.slice(Qe.URL_SCHEME.length),new Qe(e)):null;var e};$e.registerSaveRouter(Ze),$e.registerLoadRouter(Ze);class tn{constructor(){r(S().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),r("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const t={},e=Ve+je,n=je+He;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);o.startsWith(e)&&o.endsWith(n)&&(t[Je(o)]=JSON.parse(this.LS.getItem(o)))}return t}async removeModel(t){var e;const n=Xe(t=(e=t).startsWith(Qe.URL_SCHEME)?e.slice(Qe.URL_SCHEME.length):e);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(this.LS.getItem(n.info));return this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),r}}class en{constructor(){this.managers={}}static getInstance(){return null==en.instance&&(en.instance=new en),en.instance}static registerManager(t,e){r(null!=t,(()=>"scheme must not be undefined or null.")),t.endsWith("://")&&(t=t.slice(0,t.indexOf("://"))),r(t.length>0,(()=>"scheme must not be an empty string."));const n=en.getInstance();r(null==n.managers[t],(()=>`A model store manager is already registered for scheme '${t}'.`)),n.managers[t]=e}static getManager(t){const e=this.getInstance().managers[t];if(null==e)throw new Error(`Cannot find model manager for scheme '${t}'`);return e}static getSchemes(){return Object.keys(this.getInstance().managers)}}class nn{fetch(t,e){return fetch(t,e)}now(){return performance.now()}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Browser's encoder only supports utf-8, but got "+e);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,e){return new TextDecoder(e).decode(t)}}if(S().get("IS_BROWSER")){S().setPlatform("browser",new nn);try{en.registerManager(Qe.URL_SCHEME,new tn)}catch(t){}try{en.registerManager(ze.URL_SCHEME,new qe)}catch(t){}}let rn;function on(t,e){let n=t;if(p(t))return"string"===e?[]:[t.length];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||p(n)&&"string"!==e;)r.push(n.length),n=n[0];return Array.isArray(t)&&S().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&sn(t,r,[]),r}function sn(t,e,n){if(n=n||[],!Array.isArray(t)&&!p(t))return void r(0===e.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`));r(e.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`)),r(t.length===e[0],(()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`));const o=e.slice(1);for(let e=0;e<t.length;++e)sn(t[e],o,n.concat(e))}function an(t,e,n,r){if(null!=t&&("numeric"!==t&&t!==e||"numeric"===t&&"string"===e))throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}function ln(t,e,n,r="numeric"){if(t instanceof fe)return an(r,t.dtype,e,n),t;let o=h(t);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),an(r,o,e,n),null==t||!p(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t){const r=null==t?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const a=on(t,o);p(t)||Array.isArray(t)||(t=[t]);const i="string"!==o?ie(t,o):s(t,[],!0);return Fe.makeTensor(i,a,o)}function un(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map(((t,r)=>ln(t,`${e}[${r}]`,n)),r)}function cn(t){const e=Object.keys(t);if(1!==e.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const o=(...t)=>{Fe.startScope(n);try{const e=r(...t);return k(e)&&console.error("Cannot return a Promise inside of tidy."),Fe.endScope(e),e}catch(t){throw Fe.endScope(null),t}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}S().get("IS_NODE")&&S().setPlatform("node",new class{constructor(){this.util=n(758),this.textEncoder=new this.util.TextEncoder}fetch(t,e){return null!=S().global.fetch?S().global.fetch(t,e):(null==rn&&(rn=n(352)),rn(t,e))}now(){const t=process.hrtime();return 1e3*t[0]+t[1]/1e6}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Node built-in encoder only supports utf-8, but got "+e);return this.textEncoder.encode(t)}decode(t,e){return 0===t.length?"":new this.util.TextDecoder(e).decode(t)}});const pn=cn({cast_:function(t,e){const n=ln(t,"x","cast");if(!function(t){return"bool"===t||"complex64"===t||"float32"===t||"int32"===t||"string"===t}(e))throw new Error("Failed to cast to unknown dtype "+e);if("string"===e&&"string"!==n.dtype||"string"!==e&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},o={dtype:e};return Fe.runKernelFunc((t=>t.cast(n,e)),r,null,q,o)}}),dn=cn({clone_:function(t){const e=ln(t,"x","clone",null),n={x:e};return Fe.runKernelFunc((()=>Fe.makeTensorFromDataId(e.dataId,e.shape,e.dtype)),n,null,ot)}});Te(),de={buffer:function(t,e="float32",n){return e=e||"float32",v(t),new ce(t,e,n)},cast:pn,clone:dn,print:function(t,e=!1){console.log(t.toString(e))}};const hn=cn({mul_:function(t,e){let n=ln(t,"a","mul"),r=ln(e,"b","mul");[n,r]=xe(n,r);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.multiply(n,r);return e([n,r]),o}),o,null,ft)}}),fn=cn({step_:function(t,e=0){const n=ln(t,"x","step"),r={x:n},o={alpha:e};return Fe.runKernelFunc((t=>t.step(n,e)),r,null,Wt,o)}}),mn={kernelName:"Abs",inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(t,fn(pn(n,"float32"),-1))}}},gn=cn({floorDiv_:function(t,e){let n=ln(t,"a","floorDiv"),r=ln(e,"b","floorDiv");[n,r]=xe(n,r);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.floorDiv(n,r);return e([n,r]),o}),o,null,tt)}}),wn=cn({div_:function(t,e){let n=ln(t,"a","div"),r=ln(e,"b","div");if([n,r]=xe(n,r),"int32"===n.dtype&&"int32"===r.dtype)return gn(n,r);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.realDivide(n,r);return e([n,r]),o}),o,null,"Div",{})}}),yn=cn({neg_:function(t){const e=ln(t,"x","neg"),n={x:e};return Fe.runKernelFunc((t=>t.neg(e)),n,null,mt)}});function bn(t,e,n,o){if(null==o&&(o=h(t)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!p(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=e){v(e);const t=a(e),o=a(n);r(t===o,(()=>`Based on the provided shape, [${e}], the tensor should have ${t} values but has ${o}`));for(let t=0;t<n.length;++t){const o=n[t],s=t!==n.length-1||o!==a(e.slice(t));r(n[t]===e[t]||!s,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `))}}return p(t)||Array.isArray(t)||(t=[t]),e=e||n,t="string"!==o?ie(t,o):s(t,[],!0),Fe.makeTensor(t,e,o)}function vn(t,e){if((p(t)&&"string"!==e||Array.isArray(t))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===e&&p(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return bn(t,[],[],e)}const kn=cn({sqrt_:function(t){const e=ln(t,"x","sqrt"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.sqrt(e);return n([e]),r}),n,null,Mt)}}),xn=cn({square_:function(t){const e=ln(t,"x","square"),n=[e];return Fe.runKernelFunc(((t,n)=>(n([e]),t.square(e))),{x:e},null,"Square",{},n,[])}}),Sn=cn({sub_:function(t,e){let n=ln(t,"a","sub"),r=ln(e,"b","sub");[n,r]=xe(n,r);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.subtract(n,r);return e([n,r]),o}),o,null,"Sub")}}),En={kernelName:F,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const e=xn(pn(n,"float32")),r=kn(Sn(vn(1),e));return yn(wn(t,r))}}}},Dn={kernelName:C,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const e=kn(Sn(xn(pn(n,"float32")),1));return wn(t,e)}}}};function In(t,e){const n=[];for(let r=0;r<e.length;r++){const o=t[t.length-r-1],s=e.length-r-1,a=e[s];(null==o||1===o&&a>1)&&n.unshift(s)}return n}function Tn(t,e){const n=[],r=Math.max(t.length,e.length);for(let o=0;o<r;o++){let r=t[t.length-o-1];null==r&&(r=1);let s=e[e.length-o-1];if(null==s&&(s=1),1===r)n.unshift(s);else if(1===s)n.unshift(r);else{if(r!==s)throw Error(`Operands could not be broadcast together with shapes ${t} and ${e}.`);n.unshift(r)}}return n}const Fn=cn({reshape_:function(t,e){const n=ln(t,"x","reshape",null),o={x:n},s={shape:e};return Fe.runKernelFunc(((t,o)=>(e=function(t,e){let n=1,r=-1;for(let e=0;e<t.length;++e)if(t[e]>=0)n*=t[e];else if(-1===t[e]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${e}`);r=e}else if(t[e]<0)throw Error(`Shapes can not be < 0. Found ${t[e]} at dim ${e}`);if(-1===r){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(0===n)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const o=t.slice();return o[r]=e/n,o}(e,n.size),r(n.size===a(e),(()=>"new shape and old shape must have the same number of elements.")),o([n]),t.reshape(n,e))),o,null,xt,s)}});function Cn(t,e){return function(t,e,n){const r=t.length+e.length,o=[];let s=0,a=0;for(let i=0;i<r;i++)-1===n.indexOf(i)?o.push(t[s++]):o.push(e[a++]);return o}(t,e.map((t=>1)),e)}function Nn(t,e){if(function(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}(t,e))return null;const n=[];for(let r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach((t=>n.push(t))),n}function Bn(t){return t.map(((t,e)=>[e,t])).sort(((t,e)=>t[1]-e[1])).map((t=>t[0]))}function An(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}const _n=cn({transpose_:function(t,e){const n=ln(t,"x","transpose");if(null==e&&(e=n.shape.map(((t,e)=>e)).reverse()),r(n.rank===e.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${e}.`)),e.forEach((t=>{r(t>=0&&t<n.rank,(()=>"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+e))})),n.rank<=1)return n.clone();const o={x:n},s={perm:e};return Fe.runKernelFunc((t=>t.transpose(n,e)),o,null,jt,s)}}),$n=cn({sum_:function(t,e=null,n=!1){let r=ln(t,"x","sum");"bool"===r.dtype&&(r=pn(r,"int32"));const o={x:r},s={axis:e,keepDims:n};return Fe.runKernelFunc(((t,o)=>{o([r]);const s=c(e,r.shape),a=Nn(s,r.rank);let i=s,l=r;null!=a&&(l=_n(r,a),i=An(i.length,r.rank));let u=t.sum(l,i);if(n){const t=Cn(u.shape,s);u=Fn(u,t)}return u}),o,null,"Sum",s)}}),Pn={kernelName:N,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,o=Tn(n.shape,r.shape);return{a:()=>{let e=t;const r=In(n.shape,o);return r.length>0&&(e=$n(e,r)),Fn(e,n.shape)},b:()=>{let e=t;const n=In(r.shape,o);return n.length>0&&(e=$n(e,n)),Fn(e,r.shape)}}}},Mn=cn({zerosLike_:function(t){const e=ln(t,"x","zerosLike"),n={x:e};return Fe.runKernelFunc((t=>t.zerosLike(e)),n,null,Ut)}}),Rn={kernelName:B,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Mn(n)}}},Ln={kernelName:A,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Mn(n)}}},On={kernelName:_,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wn(t,kn(Sn(vn(1),xn(pn(n,"float32")))))}}},zn=cn({add_:function(t,e){let n=ln(t,"a","add"),r=ln(e,"b","add");[n,r]=xe(n,r);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.add(n,r);return e([n,r]),o}),o,null,N)}}),Kn={kernelName:$,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const e=kn(zn(vn(1),xn(pn(n,"float32"))));return wn(t,e)}}}},qn={kernelName:R,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,o=Tn(n.shape,r.shape);return{a:()=>{const e=zn(xn(n),xn(r));let s=hn(t,wn(r,e));const a=In(n.shape,o);return a.length>0&&(s=$n(s,a)),Fn(s,n.shape)},b:()=>{const e=zn(xn(n),xn(r));let s=yn(hn(t,wn(n,e)));const a=In(r.shape,o);return a.length>0&&(s=$n(s,a)),Fn(s,r.shape)}}}},jn={kernelName:P,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wn(t,zn(xn(pn(n,"float32")),1))}}},Vn={kernelName:M,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wn(t,Sn(vn(1),xn(pn(n,"float32"))))}}};function Hn(t,e,n,r,o,s,a="channelsLast"){const[i,l]=Xn(e);let u;if("channelsLast"===a)u=[i,l,t[3],t[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);u=[i,l,t[1],t[1]]}return Wn(t,u,n,r,o,s,!1,a)}function Un(t,e,n,r,o,s,a="NDHWC"){const[i,l,u]=Jn(e);let c,p;if("NDHWC"===a)p="channelsLast",c=[i,l,u,t[4],t[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat "+a);p="channelsFirst",c=[i,l,u,t[1],t[1]]}return Gn(t,c,n,r,o,!1,p,s)}function Wn(t,e,n,o,s,a,i=!1,u="channelsLast"){let[c,p,d,h]=[-1,-1,-1,-1];if("channelsLast"===u)[c,p,d,h]=t;else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat "+u);[c,h,p,d]=t}const[f,m,,g]=e,[w,y]=Xn(n),[b,v]=Xn(o),k=Qn(f,b),x=Qn(m,v),{padInfo:S,outHeight:E,outWidth:D}=function(t,e,n,o,s,a,i,u,c){let p,d,h;if("number"==typeof t){p={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};const s=function(t,e,n,o,s){null==o&&(o=Yn(t,e,n));const a=t[1],i=Zn((t[0]-e+2*o)/n+1,s);r(l(i),(()=>`The output # of rows (${i}) must be an integer. Change the stride and/or zero pad parameters`));const u=Zn((a-e+2*o)/n+1,s);return r(l(u),(()=>`The output # of columns (${u}) must be an integer. Change the stride and/or zero pad parameters`)),[i,u]}([e,n],a,o,t,u);d=s[0],h=s[1]}else if("same"===t){d=Math.ceil(e/o),h=Math.ceil(n/s);const t=Math.max(0,(d-1)*o+a-e),r=Math.max(0,(h-1)*s+i-n),l=Math.floor(t/2),u=t-l,c=Math.floor(r/2);p={top:l,bottom:u,left:c,right:r-c,type:"SAME"}}else if("valid"===t)p={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((e-a+1)/o),h=Math.ceil((n-i+1)/s);else{if("object"!=typeof t)throw Error("Unknown padding parameter: "+t);{const r="channelsLast"===c?t[1][0]:t[2][0],l="channelsLast"===c?t[1][1]:t[2][1],f="channelsLast"===c?t[2][0]:t[3][0],m="channelsLast"===c?t[2][1]:t[3][1];p={top:r,bottom:l,left:f,right:m,type:0===r&&0===l&&0===f&&0===m?"VALID":"EXPLICIT"},d=Zn((e-a+r+l)/o+1,u),h=Zn((n-i+f+m)/s+1,u)}}return{padInfo:p,outHeight:d,outWidth:h}}(s,p,d,w,y,k,x,a,u),I=i?g*h:g;let T;return"channelsFirst"===u?T=[c,I,E,D]:"channelsLast"===u&&(T=[c,E,D,I]),{batchSize:c,dataFormat:u,inHeight:p,inWidth:d,inChannels:h,outHeight:E,outWidth:D,outChannels:I,padInfo:S,strideHeight:w,strideWidth:y,filterHeight:f,filterWidth:m,effectiveFilterHeight:k,effectiveFilterWidth:x,dilationHeight:b,dilationWidth:v,inShape:t,outShape:T,filterShape:e}}function Gn(t,e,n,o,s,a=!1,i="channelsLast",u){let[c,p,d,h,f]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[c,p,d,h,f]=t;else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);[c,f,p,d,h]=t}const[m,g,w,,y]=e,[b,v,k]=Jn(n),[x,S,E]=Jn(o),D=Qn(m,x),I=Qn(g,S),T=Qn(w,E),{padInfo:F,outDepth:C,outHeight:N,outWidth:B}=function(t,e,n,o,s,a,i,u,c,p,d){let h,f,m,g;if("number"==typeof t){h={top:t,bottom:t,left:t,right:t,front:t,back:t,type:0===t?"VALID":"NUMBER"};const a=function(t,e,n,o,s,a){null==s&&(s=Yn(t,e,o));const i=t[1],u=t[2],c=Zn((t[0]-e+2*s)/o+1,a);r(l(c),(()=>`The output # of depths (${c}) must be an integer. Change the stride and/or zero pad parameters`));const p=Zn((i-e+2*s)/o+1,a);r(l(p),(()=>`The output # of rows (${p}) must be an integer. Change the stride and/or zero pad parameters`));const d=Zn((u-e+2*s)/o+1,a);return r(l(d),(()=>`The output # of columns (${d}) must be an integer. Change the stride and/or zero pad parameters`)),[c,p,d,1]}([e,n,o,1],u,0,s,t,d);f=a[0],m=a[1],g=a[2]}else if("same"===t){f=Math.ceil(e/s),m=Math.ceil(n/a),g=Math.ceil(o/i);const t=(f-1)*s+u-e,r=(m-1)*a+c-n,l=(g-1)*i+p-o,d=Math.floor(t/2),w=t-d,y=Math.floor(r/2),b=r-y,v=Math.floor(l/2);h={top:y,bottom:b,left:v,right:l-v,front:d,back:w,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);h={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-u+1)/s),m=Math.ceil((n-c+1)/a),g=Math.ceil((o-p+1)/i)}return{padInfo:h,outDepth:f,outHeight:m,outWidth:g}}(s,p,d,h,b,v,k,D,I,T,u),A=a?y*f:y;let _;return"channelsFirst"===i?_=[c,A,C,N,B]:"channelsLast"===i&&(_=[c,C,N,B,A]),{batchSize:c,dataFormat:i,inDepth:p,inHeight:d,inWidth:h,inChannels:f,outDepth:C,outHeight:N,outWidth:B,outChannels:A,padInfo:F,strideDepth:b,strideHeight:v,strideWidth:k,filterDepth:m,filterHeight:g,filterWidth:w,effectiveFilterDepth:D,effectiveFilterHeight:I,effectiveFilterWidth:T,dilationDepth:x,dilationHeight:S,dilationWidth:E,inShape:t,outShape:_,filterShape:e}}function Yn(t,e,n,r=1){const o=Qn(e,r);return Math.floor((t[0]*(n-1)-n+o)/2)}function Xn(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function Jn(t){return"number"==typeof t?[t,t,t]:t}function Qn(t,e){return e<=1?t:t+(t-1)*(e-1)}function Zn(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function tr(t){const[e,n,r]=Xn(t);return 1===e&&1===n&&1===r}function er(t,e){return tr(t)||tr(e)}function nr(t){if("NHWC"===t)return"channelsLast";if("NCHW"===t)return"channelsFirst";throw new Error("Unknown dataFormat "+t)}const rr=cn({avgPool3dBackprop_:function(t,e,n,o,s=[1,1,1],a,i){const u=ln(t,"dy","avgPool3dBackprop"),c=ln(e,"input","avgPool3dBackprop");let p=u,d=c,h=!1;4===c.rank&&(h=!0,p=Fn(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),d=Fn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),r(5===p.rank,(()=>"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+p.rank+".")),r(5===d.rank,(()=>"Error in avgPool3dBackprop: input must be rank 5 but got rank "+d.rank+".")),r(er(o,s),(()=>`Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides ${o} and dilations '${s}'`)),null!=i&&r(l(a),(()=>`Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode ${i} but got pad ${a}.`));const f={dy:p,input:d},m={filterSize:n,strides:o,dilations:s,pad:a,dimRoundingMode:i},g=Fe.runKernelFunc((t=>{const e=Un(d.shape,n,o,s,a,i);return t.avgPool3dBackprop(p,d,e)}),f,null,"AvgPool3DBackprop",m);return h?Fn(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),or={kernelName:"AvgPool3D",inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:o,strides:s,dilations:a,pad:i,dimRoundingMode:l}=n,u=null==a?[1,1,1]:a;return{x:()=>rr(t,r,o,s,u,i,l)}}},sr=cn({avgPoolBackprop_:function(t,e,n,o,s){const a=ln(t,"dy","avgPoolBackprop"),i=ln(e,"input","avgPoolBackprop");r(i.rank===a.rank,(()=>`Rank of input (${i.rank}) does not match rank of dy (${a.rank})`));let l=i,u=a,c=!1;3===i.rank&&(c=!0,l=Fn(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=Fn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),r(4===u.rank,(()=>"Error in avgPoolBackprop: dy must be rank 4 but got rank "+u.rank+".")),r(4===l.rank,(()=>"Error in avgPoolBackprop: input must be rank 4 but got rank "+l.rank+"."));const p={dy:u,input:l},d={filterSize:n,strides:o,pad:s},h=Fe.runKernelFunc((t=>{const e=Hn(l.shape,n,o,1,s);return t.avgPoolBackprop(u,l,e)}),p,null,"AvgPoolBackprop",d);return c?Fn(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),ar={kernelName:L,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:o,strides:s,pad:a}=n;return{x:()=>sr(t,r,o,s,a)}}},ir=cn({matMul_:function(t,e,n=!1,o=!1){let s=ln(t,"a","matMul"),i=ln(e,"b","matMul");[s,i]=xe(s,i);const l={a:s,b:i},u={transposeA:n,transposeB:o};return Fe.runKernelFunc(((t,e)=>{e([s,i]);const l=n?s.shape[s.rank-2]:s.shape[s.rank-1],u=o?i.shape[i.rank-1]:i.shape[i.rank-2],c=n?s.shape[s.rank-1]:s.shape[s.rank-2],p=o?i.shape[i.rank-2]:i.shape[i.rank-1],d=s.shape.slice(0,-2),h=i.shape.slice(0,-2),f=a(d),m=a(h),g=f===m||1===f||1===m;r(s.rank>=2&&i.rank>=2&&g,(()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${d}) and (${h}).`)),r(l===u,(()=>`Error in matMul: inner shapes (${l}) and (${u}) of Tensors with shapes ${s.shape} and ${i.shape} and transposeA=${n} and transposeB=${o} must match.`));const w=(f>m?d:h).concat([c,p]),y=Fn(s,n?[f,l,c]:[f,c,l]),b=Fn(i,o?[m,p,u]:[m,u,p]),v=t.batchMatMul(y,b,n,o);return Fn(v,w)}),l,null,O,u)}}),lr={kernelName:O,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[r,o]=e,{transposeA:s,transposeB:a}=n;return s||a?!s&&a?{a:()=>ir(t,o,!1,!1),b:()=>ir(t,r,!0,!1)}:s&&!a?{a:()=>ir(o,t,!1,!0),b:()=>ir(r,t,!1,!1)}:{a:()=>ir(o,t,!0,!0),b:()=>ir(t,r,!0,!0)}:{a:()=>ir(t,o,!1,!0),b:()=>ir(r,t,!0,!1)}}},ur=cn({spaceToBatchND_:function(t,e,n){const o=ln(t,"x","spaceToBatchND");r(o.rank>=1+e.length,(()=>`input rank ${o.rank} should be > than [blockShape] ${e.length}`)),r(n.length===e.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`)),r(o.shape.reduce(((t,r,o)=>o>0&&o<=e.length?t&&(r+n[o-1][0]+n[o-1][1])%e[o-1]==0:t),!0),(()=>`input spatial dimensions ${o.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`));const s={x:o},a={blockShape:e,paddings:n};return Fe.runKernelFunc((t=>t.spaceToBatchND(o,e,n)),s,null,Rt,a)}}),cr={kernelName:z,gradFunc:(t,e,n)=>{const{blockShape:r,crops:o}=n;return{x:()=>ur(t,r,o)}}},pr={kernelName:K,gradFunc:(t,e,n)=>{const r=n,o=r.inputShape,s=r.shape,a=Array.from(s);for(let t=o.length-1;t>=0;t--)if(o[t]===s[t])a[t]=1;else if(1!==o[t])throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${s}].`);const i=[];for(let t=0;t<a.length;t++)a[t]>1&&i.push(t);return{x:()=>$n(t,i,!0)}}},dr={kernelName:q,gradFunc:t=>({x:()=>t.clone()})},hr={kernelName:j,gradFunc:t=>({x:()=>Mn(t)})},fr=cn({greaterEqual_:function(t,e){let n=ln(t,"a","greaterEqual"),r=ln(e,"b","greaterEqual");[n,r]=xe(n,r),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.greaterEqual(n,r);return e([n,r]),o}),o,null,rt)}}),mr=cn({lessEqual_:function(t,e){let n=ln(t,"a","lessEqual"),r=ln(e,"b","lessEqual");[n,r]=xe(n,r),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.lessEqual(n,r);return e([n,r]),o}),o,null,"LessEqual")}}),gr=cn({logicalAnd_:function(t,e){const n=ln(t,"a","logicalAnd","bool"),r=ln(e,"b","logicalAnd","bool");Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc((t=>t.logicalAnd(n,r)),o,null,"LogicalAnd")}}),wr=cn({broadcastTo_:function(t,e){let n=ln(t,"broadcastTo","x");const r=n.shape;if(e.some((t=>!(t>0)||t%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const t=n.shape.slice();for(;t.length<e.length;)t.unshift(1);n=Fn(n,t)}const o=n.shape,s=Array.from(e);for(let t=e.length-1;t>=0;t--)if(o[t]===e[t])s[t]=1;else if(1!==n.shape[t])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(0===s.map(((t,e)=>t>1?e:-1)).filter((t=>t>=0)).length)return dn(n);const a={x:n},i={shape:e,inputShape:o};return Fe.runKernelFunc((t=>t.tile(n,s)),a,null,K,i)}}),yr=cn({where_:function(t,e,n){const s=ln(e,"a","where"),a=ln(n,"b","where"),i=ln(t,"condition","where","bool"),l=Tn(s.shape,a.shape),u=wr(s,l),c=wr(a,l);1===i.rank&&r(i.shape[0]===s.shape[0],(()=>"The first dimension of `a` must match the size of `condition`.")),1!==i.rank&&o(i.shape,c.shape,"Error in where: ");const p={condition:i,t:u,e:c};return Fe.runKernelFunc(((t,e)=>{const n=t.select(i,u,c);return e([i]),n}),p,null,Ct)}}),br={kernelName:V,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{clipValueMin:o,clipValueMax:s}=n;return{x:()=>yr(gr(fr(r,o),mr(r,s)),t,Mn(t))}}},vr=cn({split_:function(t,e,n=0){const o=ln(t,"x","split"),s={x:o},a={numOrSizeSplits:e,axis:n};return Fe.runKernelFunc(((t,s)=>{const a=c(n,o.shape)[0],i=function(t,e,n=0){let o=[];if("number"==typeof e)r(t.shape[n]%e==0,(()=>"Number of splits must evenly divide the axis.")),o=new Array(e).fill(t.shape[n]/e);else{r(e.reduce(((t,e)=>(-1===e&&(t+=1),t)),0)<=1,(()=>"There should be only one negative value in split array."));const s=e.indexOf(-1);if(-1!==s){const r=e.reduce(((t,e)=>e>0?t+e:t));e[s]=t.shape[n]-r}r(t.shape[n]===e.reduce(((t,e)=>t+e)),(()=>"The sum of sizes must match the size of the axis dimension.")),o=e}return o}(o,e,a);return t.split(o,i,a)}),s,null,Lt,a)}}),kr={kernelName:H,saveAllInputs:!0,gradFunc:(t,e,n)=>{const r=e.map((t=>t.shape)),{axis:o}=n,s=c(o,e[0].shape)[0],a=r.map((t=>t[s]));return vr(t,a,s).map((t=>()=>t))}},xr=cn({conv2DBackpropFilter_:function(t,e,n,o,s,a="NHWC",i){let u=t;3===t.rank&&(u=Fn(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;3===c.rank&&(c=Fn(e,[1,e.shape[0],e.shape[1],e.shape[2]])),r(4===u.rank,(()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+u.shape+".")),r(4===c.rank,(()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+c.shape+".")),r(4===n.length,(()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."));const p="NHWC"===a?u.shape[3]:u.shape[1],d="NHWC"===a?c.shape[3]:c.shape[1];r(p===n[2],(()=>`Error in conv2dDerFilter: depth of input ${p}) must match input depth in filter (${n[2]}.`)),r(d===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${d}) must match output depth for filter (${n[3]}).`)),null!=i&&r(l(s),(()=>`Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode ${i} but got pad ${s}.`));const h={x:u,dy:c},f={strides:o,pad:s,dataFormat:a,dimRoundingMode:i,filterShape:n};return Fe.runKernelFunc((t=>{const e=nr(a),r=Wn(u.shape,n,o,1,s,i,!1,e);return t.conv2dDerFilter(u,c,r)}),h,null,"Conv2DBackpropFilter",f)}}),Sr=cn({conv2DBackpropInput_:function(t,e,n,o,s,a="NHWC",i){r(t.length===e.rank,(()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`));let u=t,c=e,p=!1;3===e.rank&&(p=!0,c=Fn(e,[1,e.shape[0],e.shape[1],e.shape[2]]),u=[1,t[0],t[1],t[2]]),r(4===u.length,(()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+u.length+".")),r(4===c.rank,(()=>"Error in conv2dDerInput: dy must be rank 4, but got rank "+c.rank)),r(4===n.rank,(()=>"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank));const d="NHWC"===a?u[3]:u[1],h="NHWC"===a?c.shape[3]:c.shape[1];r(d===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${d}) must match input depth for filter ${n.shape[2]}.`)),r(h===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[3]}.`)),null!=i&&r(l(s),(()=>`Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode ${i} but got pad ${s}.`));const f={dy:c,filter:n},m={strides:o,pad:s,dataFormat:a,dimRoundingMode:i,inputShape:u},g=Fe.runKernelFunc(((t,e)=>{const r=nr(a),l=Wn(u,n.shape,o,1,s,i,!1,r),p=t.conv2dDerInput(c,n,l);return e([c,n]),p}),f,null,W,m);return p?Fn(g,[g.shape[1],g.shape[2],g.shape[3]]):g}}),Er={kernelName:U,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[o,s]=e,{dilations:a,strides:i,pad:l,dataFormat:u}=n;return r(tr(a),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`)),{x:()=>Sr(o.shape,t,s,i,l,u),filter:()=>xr(o,t,s.shape,i,l,u)}}},Dr=cn({conv2d_:function(t,e,n,o,s="NHWC",a=[1,1],i){const u=ln(t,"x","conv2d"),c=ln(e,"filter","conv2d");let p=u,d=!1;3===u.rank&&(d=!0,p=Fn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),r(4===p.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${p.rank}.`)),r(4===c.rank,(()=>"Error in conv2d: filter must be rank 4, but got rank "+c.rank+".")),null!=i&&r(l(o),(()=>`Error in conv2d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${o}.`));const h="NHWC"===s?p.shape[3]:p.shape[1];r(h===c.shape[2],(()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${c.shape[2]}.`)),r(er(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`));const f={x:p,filter:c},m={strides:n,pad:o,dataFormat:s,dilations:a,dimRoundingMode:i},g=Fe.runKernelFunc(((t,e)=>{const r=nr(s),l=Wn(p.shape,c.shape,n,a,o,i,!1,r),u=t.conv2d(p,c,l);return e([p,c]),u}),f,null,U,m);return d?Fn(g,[g.shape[1],g.shape[2],g.shape[3]]):g}}),Ir={kernelName:W,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[r,o]=e,{strides:s,pad:a,dataFormat:i,dimRoundingMode:l}=n;return{dy:()=>Dr(t,o,s,a,i,1,l),filter:()=>xr(t,r,o.shape,s,a,i,l)}}},Tr=cn({conv3DBackpropFilter_:function(t,e,n,o,s){let a=t;4===t.rank&&(a=Fn(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let i=e;4===i.rank&&(i=Fn(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),r(5===a.rank,(()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+".")),r(5===i.rank,(()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+i.shape+".")),r(5===n.length,(()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+".")),r(a.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${a.shape[4]}) must match input depth in filter (${n[3]}.`)),r(i.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${n[4]}).`));const l={x:a,dy:i},u={strides:o,pad:s,filterShape:n};return Fe.runKernelFunc((t=>{const e=Gn(a.shape,n,o,1,s);return t.conv3dDerFilter(a,i,e)}),l,null,"Conv3DBackpropFilterV2",u)}}),Fr=cn({conv3DBackpropInput_:function(t,e,n,o,s){r(t.length===e.rank,(()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`));let a=t,i=e,l=!1;4===e.rank&&(l=!0,i=Fn(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),a=[1,t[0],t[1],t[2],t[3]]);const u=a[4],c=i.shape[4];r(5===a.length,(()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+".")),r(5===i.rank,(()=>"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank)),r(5===n.rank,(()=>"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank)),r(u===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[3]}.`)),r(c===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`));const p={dy:i,filter:n},d={pad:s,strides:o,inputShape:a},h=Fe.runKernelFunc((t=>{const e=Gn(a,n.shape,o,1,s);return t.conv3dDerInput(i,n,e)}),p,null,"Conv3DBackpropInputV2",d);return l?Fn(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),Cr={kernelName:"Conv3D",inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:o,strides:s,pad:a}=n;r(tr(o),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`));const[i,l]=e;return{x:()=>Fr(i.shape,t,l,s,a),filter:()=>Tr(i,t,l.shape,s,a)}}},Nr=cn({sin_:function(t){const e=ln(t,"x","sin"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.sin(e);return n([e]),r}),n,null,"Sin")}}),Br={kernelName:"Cos",inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(yn(Nr(pn(n,"float32"))),t)}}},Ar=cn({sinh_:function(t){const e=ln(t,"x","sinh"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.sinh(e);return n([e]),r}),n,null,At)}}),_r={kernelName:G,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(Ar(pn(n,"float32")),t)}}},$r=cn({cumsum_:function(t,e=0,n=!1,r=!1){const o=ln(t,"x","cumsum"),s={x:o},a={axis:e,exclusive:n,reverse:r};return Fe.runKernelFunc(((t,s)=>{const a=Nn([e],o.rank);let i=o;null!=a&&(i=_n(o,a));const l=An(1,o.rank)[0];let u=t.cumsum(i,l,n,r);if(s([o]),null!=a){const t=Bn(a);u=_n(u,t)}return u}),s,null,Y,a)}}),Pr={kernelName:Y,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:o,exclusive:s,reverse:a}=n;return{x:()=>{const e=Nn([o],r.rank);let n=$r(t,o,s,!a);return null!=e&&(n=_n(n,e)),n}}}},Mr=cn({depthwiseConv2dNativeBackpropFilter_:function(t,e,n,r,o,s=[1,1],a){let i=t;3===t.rank&&(i=Fn(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;3===l.rank&&(l=Fn(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:i,dy:l},c={strides:r,pad:o,dimRoundingMode:a,dilations:s,filterShape:n};return Fe.runKernelFunc((e=>{const u=Wn(t.shape,n,r,s,o,a,!0);return e.depthwiseConv2DDerFilter(i,l,u)}),u,null,"DepthwiseConv2dNativeBackpropFilter",c)}}),Rr=cn({depthwiseConv2dNativeBackpropInput_:function(t,e,n,r,o,s=[1,1],a){let i=e,l=!1;3===e.rank&&(l=!0,i=Fn(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:i,filter:n},c={strides:r,pad:o,dimRoundingMode:a,dilations:s,inputShape:t},p=Fe.runKernelFunc((e=>{const l=Wn(t,n.shape,r,s,o,a,!0);return e.depthwiseConv2DDerInput(i,n,l)}),u,null,"DepthwiseConv2dNativeBackpropInput",c);return l?Fn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),Lr={kernelName:X,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:o,strides:s,pad:a,dimRoundingMode:i}=n,u=null==o?[1,1]:o;r(tr(u),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${u}'`));const[c,p]=e;return r(4===c.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${c.rank}.`)),r(4===p.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${p.rank}.`)),r(c.shape[3]===p.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${c.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`)),r(er(s,u),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${u}'.`)),null!=i&&r(l(a),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${a}.`)),{x:()=>Rr(c.shape,t,p,s,a,o,i),filter:()=>Mr(c,t,p.shape,s,a,o,i)}}},Or={kernelName:J,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,o]=e,s={x:r,filter:o,dy:t},a={x:r,filter:o,dy:t};return{x:()=>Fe.runKernel("Dilation2DBackpropInput",s,n),filter:()=>Fe.runKernel("Dilation2DBackpropFilter",a,n)}}},zr={kernelName:"Div",inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,o=Tn(n.shape,r.shape);return{a:()=>{const e=wn(t,pn(r,"float32")),s=In(n.shape,o);return s.length>0?Fn($n(e,s),n.shape):e},b:()=>{let e=hn(t,pn(n,"float32"));const s=In(r.shape,o);s.length>0&&(e=Fn($n(e,s),r.shape));const a=xn(r);return yn(wn(e,pn(a,"float32")))}}}},Kr={kernelName:"Elu",outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,r=e=>e.eluDer(t,n),o={dy:t,y:n};return{x:()=>Fe.runKernelFunc(r,o,null,"EluGrad")}}},qr=cn({exp_:function(t){const e=ln(t,"x","exp"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.exp(e);return n([r]),r}),n,null,"Exp")}}),jr={kernelName:"Erf",inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=hn(qr(yn(xn(n))),2/Math.sqrt(Math.PI));return{x:()=>hn(t,r)}}},Vr={kernelName:"Exp",outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(t,n)}}},Hr={kernelName:Q,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(t,qr(n))}}},Ur={kernelName:Z,gradFunc:t=>({x:()=>Mn(t)})},Wr={kernelName:tt,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,o=Tn(n.shape,r.shape);return{a:()=>{const e=wn(t,pn(r,"float32")),s=In(n.shape,o);return s.length>0?Fn($n(e,s),n.shape):e},b:()=>{let e=hn(t,pn(n,"float32"));const s=In(r.shape,o);s.length>0&&(e=Fn($n(e,s),r.shape));const a=xn(r);return yn(wn(e,pn(a,"float32")))}}}},Gr=cn({rsqrt_:function(t){const e=ln(t,"x","rsqrt"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.rsqrt(e);return n([e]),r}),n,null,Ft)}}),Yr=cn({tile_:function(t,e){const n=ln(t,"x","tile",null);r(n.rank===e.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`));const o=[n],s={x:n},a={reps:e};return Fe.runKernelFunc(((t,r)=>{const o=t.tile(n,e);return r([n]),o}),s,null,qt,a,o)}}),Xr={kernelName:et,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:r}=n,[o,s,a,i]=e,l=null==i?vn(1):i,u=In(s.shape,o.shape),c=[];if(1===s.rank){for(let t=0;t<o.shape.length-1;++t)c.push(o.shape[t]);c.push(1)}const p=Sn(o,s),d=hn(t,l),h=Gr(zn(a,vn(r))),f=hn(hn(hn(h,h),h),vn(-.5));return{x:()=>1===s.rank?Fn(hn(hn(t,Yr(Fn(h,[1,1,1,s.shape[0]]),c)),l),o.shape):Fn(hn(hn(t,h),l),o.shape),mean:()=>{let t=hn(hn(h,vn(-1)),d);return 1===s.rank&&(t=$n(t,u)),Fn(t,s.shape)},variance:()=>{let t=hn(hn(f,p),d);return 1===s.rank&&(t=$n(t,u)),Fn(t,s.shape)},scale:()=>{const e=hn(p,h);let n=hn(t,e);return 1===s.rank&&(n=$n(n,u)),Fn(n,s.shape)},offset:()=>{let e=t;return 1===s.rank&&(e=$n(e,u)),Fn(e,s.shape)}}}},Jr=cn({unsortedSegmentSum_:function(t,e,n){const o=ln(t,"x","unsortedSegmentSum"),s=ln(e,"segmentIds","unsortedSegmentSum","int32");r(l(n),(()=>"numSegments must be of dtype int"));const a={x:o,segmentIds:s},i={numSegments:n};return Fe.runKernelFunc(((t,e)=>{const r=t.unsortedSegmentSum(o,s,n);return e([s]),r}),a,null,Ht,i)}}),Qr={kernelName:nt,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[r,o]=e,{axis:s}=n,a=c(s,r.shape)[0];return{x:()=>{const e=r.shape,n=o.size,i=e.slice(0,a),l=i.length,u=e.slice(s,e.length).slice(1),c=u.length,p=Zr(0,l),d=Zr(l+1,l+1+c),h=to([i,[n],u]),f=Fn(t,h),m=Fn(o,[n]),g=to([[l],p,d]),w=_n(f,g);let y=Jr(w,m,r.shape[a]);const b=Bn(g);return y=_n(y,b),y},indices:()=>o}}};function Zr(t,e){const n=[];for(let r=t;r<e;++r)n.push(r);return n}function to(t){const e=[];for(let n=0;n<t.length;++n)for(let r=0;r<t[n].length;++r)e.push(t[n][r]);return e}const eo={kernelName:rt,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>Mn(n),b:()=>Mn(r)}}},no={kernelName:ot,gradFunc:t=>({x:()=>pn(t,"float32")})},ro={kernelName:st,gradFunc:t=>({x:()=>Mn(t)})},oo={kernelName:at,gradFunc:t=>({x:()=>Mn(t)})},so={kernelName:it,gradFunc:t=>({x:()=>Mn(t)})},ao={kernelName:lt,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wn(t,zn(n,1))}}},io={kernelName:"Log",inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wn(t,pn(n,"float32"))}}},lo={kernelName:ut,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{axis:o}=n;return{logits:()=>{const e=qr(r);return Sn(t,hn($n(t,o,!0),e))}}}},uo=cn({localResponseNormalizationBackprop_:function(t,e,n,r=5,o=1,s=1,a=.5){const i={x:t,y:e,dy:n},l={depthRadius:r,bias:o,alpha:s,beta:a};return Fe.runKernelFunc((i=>i.LRNGrad(n,t,e,r,o,s,a)),i,null,"LRNBackprop",l)}}),co={kernelName:"LRN",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,o]=e,{depthRadius:s,bias:a,alpha:i,beta:l}=n;return{x:()=>uo(r,o,t,s,a,i,l)}}},po=cn({equal_:function(t,e){let n=ln(t,"a","equal"),r=ln(e,"b","equal");[n,r]=xe(n,r),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc((t=>t.equal(n,r)),o,null,"Equal")}});function ho(t,e,n,r){return e.rank<n.rank&&(e=Fn(e,Cn(e.shape,r))),t.rank<n.rank&&(t=Fn(t,Cn(t.shape,r))),{x:()=>hn(t,pn(po(n,e),t.dtype))}}const fo={kernelName:"Max",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{reductionIndices:o}=r,s=e[0],a=ho(t,e[1],s,c(o,s.shape));return{x:()=>a.x()}}},mo=cn({less_:function(t,e){let n=ln(t,"a","less"),r=ln(e,"b","less");[n,r]=xe(n,r),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc((t=>t.less(n,r)),o,null,"Less")}}),go={kernelName:ct,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>hn(t,pn(fr(n,r),"float32")),b:()=>hn(t,pn(mo(n,r),"float32"))}}},wo=cn({maxPool3dBackprop_:function(t,e,n,o,s,a=[1,1,1],i,u){const c=ln(t,"dy","maxPool3dBackprop"),p=ln(e,"input","maxPool3dBackprop"),d=ln(n,"output","maxPool3dBackprop");let h=c,f=p,m=d,g=!1;4===p.rank&&(g=!0,h=Fn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),f=Fn(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]]),m=Fn(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),r(5===h.rank,(()=>"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+h.rank+".")),r(5===f.rank,(()=>"Error in maxPool3dBackprop: input must be rank 5 but got rank "+f.rank+".")),r(5===m.rank,(()=>"Error in maxPool3dBackprop: output must be rank 5 but got rank "+m.rank+".")),r(er(s,a),(()=>`Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides ${s} and dilations '${a}'`)),null!=u&&r(l(i),(()=>`Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode ${u} but got pad ${i}.`));const w={dy:h,input:f,output:m},y={filterSize:o,strides:s,dilations:a,pad:i,dimRoundingMode:u},b=Fe.runKernelFunc((t=>{const e=Un(f.shape,o,s,a,i,u);return t.maxPool3dBackprop(h,f,m,e)}),w,null,"MaxPool3DBackprop",y);return g?Fn(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}}),yo={kernelName:"MaxPool3D",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,o]=e,{filterSize:s,strides:a,dilations:i,pad:l,dimRoundingMode:u}=n,c=null==i?[1,1,1]:i;return{x:()=>wo(t,r,o,s,a,c,l,u)}}},bo=cn({maxPoolBackprop_:function(t,e,n,o,s,a,i){const u=ln(t,"dy","maxPoolBackprop"),c=ln(e,"input","maxPoolBackprop"),p=ln(n,"output","maxPoolBackprop");r(c.rank===u.rank,(()=>`Rank of input (${c.rank}) does not match rank of dy (${u.rank})`)),r(4===u.rank,(()=>"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+".")),r(4===c.rank,(()=>"Error in maxPoolBackprop: input must be rank 4 but got rank "+c.rank+".")),null!=i&&r(l(a),(()=>`Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode ${i} but got pad ${a}.`));const d={dy:u,input:c,output:p},h={filterSize:o,strides:s,pad:a,dimRoundingMode:i};return Fe.runKernelFunc((t=>{const e=Hn(c.shape,o,s,1,a,i);return t.maxPoolBackprop(u,c,p,e)}),d,null,"MaxPoolBackprop",h)}}),vo={kernelName:pt,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,o]=e,{filterSize:s,strides:a,pad:i}=n;return{x:()=>bo(t,r,o,s,a,i)}}},ko={kernelName:"Min",inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{axis:o}=r,[s,a]=e,i=ho(t,a,s,c(o,s.shape));return{x:()=>i.x()}}},xo=cn({greater_:function(t,e){let n=ln(t,"a","greater"),r=ln(e,"b","greater");[n,r]=xe(n,r),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc((t=>t.greater(n,r)),o,null,"Greater")}}),So={kernelName:dt,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>hn(t,pn(mr(n,r),"float32")),b:()=>hn(t,pn(xo(n,r),"float32"))}}};function Eo(t){const e=[];let n=0;for(;t>0;)1&t&&e.push(n),t/=2,n++;return e}function Do(t,e,n){return n<=t?n:n-(e-1)}function Io(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function To(t,e,n){let r=t[e];return(n&1<<e||null==r)&&(r=1),r}function Fo(t,n,r,o,s,a){let i=n[s];const l=r[s]||1;(t&1<<s||a&1<<s||null==i)&&(i=l>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const u=o[s];return i<0&&(i+=u),i=e(0,i,u-1),i}function Co(t,n,r,o,s,a){let i=n[s];const l=r[s]||1;(t&1<<s||a&1<<s||null==i)&&(i=l>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const u=o[s];return i<0&&(i+=u),i=l>0?e(0,i,u):e(-1,i,u-1),i}function No(t,e,n){let o;const s=t.shape.length;let a;return o="number"==typeof e?[e,...new Array(s-1).fill(0)]:e.length<s?e.concat(new Array(s-e.length).fill(0)):e.slice(),o.forEach((t=>{r(-1!==t,(()=>"slice() does not support negative begin indexing."))})),a=null==n?new Array(s).fill(-1):"number"==typeof n?[n,...new Array(s-1).fill(-1)]:n.length<s?n.concat(new Array(s-n.length).fill(-1)):n,a=a.map(((e,n)=>e>=0?e:(r(-1===e,(()=>`Negative size values should be exactly -1 but got ${e} for the slice() size at index ${n}.`)),t.shape[n]-o[n]))),[o,a]}const Bo=cn({slice_:function(t,e,n){const o=ln(t,"x","slice");if(0===o.rank)throw new Error("Slicing scalar is not possible");const s={x:o},a={begin:e,size:n};return Fe.runKernelFunc(((t,s)=>{const[a,i]=No(o,e,n);return function(t,e,n){const o=t.shape.length;r(o===e.length,(()=>`Error in slice${o}D: Length of begin ${e} must match the rank of the array (${o}).`)),r(o===n.length,(()=>`Error in slice${o}D: Length of size ${n} must match the rank of the array (${o}).`));for(let s=0;s<o;++s)r(e[s]+n[s]<=t.shape[s],(()=>`Error in slice${o}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`))}(o,a,i),s([o]),t.slice(o,a,i)}),s,null,Bt,a)}}),Ao={kernelName:ht,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:o}=n,s=o.map((t=>t[0]));return{x:()=>Bo(t,s,r.shape)}}},_o=cn({floor_:function(t){const e=ln(t,"x","floor"),n={x:e};return Fe.runKernelFunc((t=>t.floor(e)),n,null,Z)}}),$o={kernelName:"Mod",inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,o=Tn(n.shape,r.shape);return{a:()=>{const e=In(n.shape,o);return e.length>0?Fn($n(t,e),n.shape):t},b:()=>{const e=hn(t,yn(_o(wn(n,r)))),s=In(r.shape,o);return s.length>0?Fn($n(e,s),r.shape):e}}}},Po={kernelName:ft,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,o=Tn(n.shape,r.shape);return{a:()=>{const e=hn(t,pn(r,"float32")),s=In(n.shape,o);return s.length>0?Fn($n(e,s),n.shape):e},b:()=>{const e=hn(t,pn(n,"float32")),s=In(r.shape,o);return s.length>0?Fn($n(e,s),r.shape):e}}}},Mo={kernelName:mt,gradFunc:t=>({x:()=>yn(t)})},Ro=cn({complex_:function(t,e){const n=ln(t,"real","complex"),r=ln(e,"imag","complex");o(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return Fe.runKernelFunc((t=>t.complex(n,r)),s,null,"Complex")}});function Lo(t,e="float32"){if("complex64"===e){const e=Lo(t,"float32"),n=Lo(t,"float32");return Ro(e,n)}const n=b(a(t),e);return Fe.makeTensor(n,t,e)}const Oo={kernelName:wt,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>Lo(n.shape,"float32")}}},zo={kernelName:gt,gradFunc:t=>({x:()=>Mn(t)})},Ko={kernelName:yt,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:o}=n,s=o.map((t=>t[0]));return{x:()=>Bo(t,s,r.shape)}}},qo=cn({log_:function(t){const e=ln(t,"x","log"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.log(e);return n([e]),r}),n,null,"Log")}}),jo=cn({pow_:function(t,e){let n=ln(t,"base","pow"),r=ln(e,"exp","pow");[n,r]=xe(n,r);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.pow(n,r);return e([n,r,o]),o}),o,null,"Pow")}}),Vo={kernelName:"Pow",inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,r,o]=e,s=n,a=r,i=Tn(s.shape,a.shape);return{a:()=>{const e=pn(a,"float32");let n=hn(t,hn(e,jo(s,Sn(e,vn(1)))));const r=In(s.shape,i);return r.length>0&&(n=$n(n,r)),Fn(n,s.shape)},b:()=>{const e=xo(s,0),n=yr(e,qo(s),Mn(s));let r=hn(t,hn(o,n));const l=In(a.shape,i);return l.length>0&&(r=$n(r,l)),Fn(r,a.shape)}}}},Ho={kernelName:bt,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,r]=e,o=xo(n,0);return{x:()=>yr(o,t,hn(t,r)),alpha:()=>{let e=yr(o,Mn(t),hn(t,n));const s=In(r.shape,t.shape);return s.length>0&&(e=$n(e,s)),Fn(e,r.shape)}}}},Uo={kernelName:vt,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wn(t,yn(xn(n)))}}},Wo={kernelName:Dt,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=hn(mr(n,6),fn(n));return{x:()=>hn(t,pn(r,"float32"))}}},Go={kernelName:kt,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(t,pn(fn(n),"float32"))}}},Yo={kernelName:xt,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Fn(t,n.shape)}}},Xo={kernelName:Et,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,o=e=>{const{alignCorners:o}=n;return e.resizeBilinearBackprop(t,r,o)},s={images:r};return{images:()=>Fe.runKernelFunc(o,s,null,"ResizeBilinearGrad",n)}}},Jo={kernelName:St,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,o=e=>{const{alignCorners:o}=n;return e.resizeNearestNeighborBackprop(t,r,o)},s={images:r};return{images:()=>Fe.runKernelFunc(o,s,null,"ResizeNearestNeighborGrad",n)}}},Qo=cn({reverse_:function(t,e){const n=ln(t,"x","reverse"),r={x:n},o={dims:e};return Fe.runKernelFunc((t=>{const r=c(e,n.shape);if(0===n.rank)return dn(n);const o=t.reverse(n,r);return Fn(o,n.shape)}),r,null,It,o)}}),Zo={kernelName:It,gradFunc:(t,e,n)=>{const{dims:r}=n,o=c(r,t.shape);return{x:()=>Qo(t,o)}}},ts={kernelName:Tt,gradFunc:t=>({x:()=>Mn(t)})},es={kernelName:Ft,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>yn(wn(t,hn(jo(n,1.5),2)))}}},ns=cn({logicalNot_:function(t){const e=ln(t,"x","logicalNot","bool"),n={x:e};return Fe.runKernelFunc((t=>t.logicalNot(e)),n,null,"LogicalNot")}}),rs={kernelName:Ct,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>pn(Mn(n),"float32"),t:()=>hn(t,pn(n,t.dtype)),e:()=>hn(t,pn(ns(n),t.dtype))}}},os={kernelName:Nt,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const e=xo(n,vn(0)),r=vn(1.7580993408473768),o=vn(1.0507009873554805),s=hn(t,o),a=hn(hn(t,r),qr(pn(n,"float32")));return yr(e,s,a)}}}},ss={kernelName:$t,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(t,hn(n,Sn(vn(1),n)))}}},as={kernelName:_t,gradFunc:t=>({x:()=>Mn(t)})},is=cn({cos_:function(t){const e=ln(t,"x","cos"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.cos(e);return n([e]),r}),n,null,"Cos")}}),ls={kernelName:"Sin",inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(is(pn(n,"float32")),t)}}},us=cn({cosh_:function(t){const e=ln(t,"x","cosh"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.cosh(e);return n([e]),r}),n,null,G)}}),cs={kernelName:At,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(us(pn(n,"float32")),t)}}},ps=cn({pad_:function(t,e,n=0){const r=ln(t,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:e,constantValue:n},s={x:r};return Fe.runKernelFunc(((t,o)=>(o([r]),t.pad(r,e,n))),s,null,yt,o)}}),ds={kernelName:Bt,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{begin:o,size:s}=n,a=r.shape,[i,l]=No(r,o,s),u=[];for(let e=0;e<t.rank;e++)u.push([i[e],a[e]-i[e]-l[e]]);return{x:()=>ps(t,u)}}},hs={kernelName:Ot,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{dim:o}=n,s=hn(t,r);return{logits:()=>Sn(s,hn($n(s,[o],!0),r))}}},fs=cn({sigmoid_:function(t){const e=ln(t,"x","sigmoid"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.sigmoid(e);return n([r]),r}),n,null,$t)}}),ms={kernelName:Pt,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(t,fs(n))}}},gs=cn({batchToSpaceND_:function(t,e,n){const o=ln(t,"x","batchToSpaceND"),s=e.reduce(((t,e)=>t*e));r(o.rank>=1+e.length,(()=>`input rank is ${o.rank} but should be > than blockShape.length ${e.length}`)),r(n.length===e.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`)),r(o.shape[0]%s==0,(()=>`input tensor batch is ${o.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`));const a={x:o},i={blockShape:e,crops:n};return Fe.runKernelFunc((t=>t.batchToSpaceND(o,e,n)),a,null,z,i)}}),ws={kernelName:Rt,gradFunc:(t,e,n)=>{const{blockShape:r,paddings:o}=n;return{x:()=>gs(t,r,o)}}},ys=cn({concat_:function(t,e=0){r(t.length>=1,(()=>"Pass at least one tensor to concat"));let n=un(t,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((t=>{if("complex64"!==t.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${t.dtype}. `)}));const o=n,s={axis:e};return Fe.runKernelFunc(((t,o)=>{const s=c(e,n[0].shape)[0],i=function(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}(n.map((t=>t.shape)),s);if(0===a(i))return bn(l=[],i,on(l,u),u);var l,u;if(n=n.filter((t=>t.size>0)),1===n.length)return n[0];!function(t,e){const n=t[0].length;t.forEach(((t,e)=>{r(t.length===n,(()=>`Error in concat${n}D: rank of tensors[${e}] must be the same as the rank of the rest (${n})`))})),r(e>=0&&e<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const o=t[0];t.forEach(((t,s)=>{for(let a=0;a<n;a++)r(a===e||t[a]===o[a],(()=>`Error in concat${n}D: Shape of tensors[${s}] (${t}) does not match the shape of the rest (${o}) along the non-concatenated axis ${s}.`))}))}(n.map((t=>t.shape)),s);const p=t.concat(n,s);return o(n),p}),o,null,H,s)}}),bs={kernelName:Lt,gradFunc:(t,e,n)=>{const{axis:r}=n;return{x:()=>ys(t,r)}}},vs={kernelName:Mt,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wn(t,hn(kn(pn(n,"float32")),2))}}},ks={kernelName:"Square",inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(t,hn(pn(n,"float32"),2))}}},xs={kernelName:zt,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,o=vn(2);return{a:()=>hn(t,hn(o,Sn(n,r))),b:()=>hn(t,hn(o,Sn(r,n)))}}},Ss={kernelName:Wt,gradFunc:t=>({x:()=>Mn(t)})},Es={kernelName:"Sub",inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,o=Tn(n.shape,r.shape);return{a:()=>{let e=t;const r=In(n.shape,o);return r.length>0&&(e=$n(e,r)),Fn(e,n.shape)},b:()=>{let e=t;const n=In(r.shape,o);return n.length>0&&(e=$n(e,n)),Fn(yn(e),r.shape)}}}};function Ds(t,e="float32"){if("complex64"===e){const e=Ds(t,"float32"),n=Lo(t,"float32");return Ro(e,n)}const n=y(a(t),e);return Fe.makeTensor(n,t,e)}const Is={kernelName:"Sum",inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,o=r.shape.slice(),{axis:s}=n;c(s,r.shape).forEach((t=>{o[t]=1}));const a=Fn(t,o),i=hn(a,Ds(r.shape,"float32"));return{x:()=>i}}},Ts={kernelName:"Tan",inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wn(t,xn(is(n)))}}},Fs={kernelName:Kt,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>hn(Sn(vn(1),xn(n)),t)}}},Cs={kernelName:qt,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{reps:o}=n;return{x:()=>{let e=Mn(r);if(1===r.rank)for(let n=0;n<o[0];++n)e=zn(e,Bo(t,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<o[0];++n)for(let s=0;s<o[1];++s)e=zn(e,Bo(t,[n*r.shape[0],s*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<o[0];++n)for(let s=0;s<o[1];++s)for(let a=0;a<o[2];++a)e=zn(e,Bo(t,[n*r.shape[0],s*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(let n=0;n<o[0];++n)for(let s=0;s<o[1];++s)for(let a=0;a<o[2];++a)for(let i=0;i<o[3];++i)e=zn(e,Bo(t,[n*r.shape[0],s*r.shape[1],a*r.shape[2],i*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return e}}}},Ns={kernelName:jt,gradFunc:(t,e,n)=>{const r=n,{perm:o}=r,s=Bn(o);return{x:()=>_n(t,s)}}},Bs=cn({expandDims_:function(t,e=0){const n=ln(t,"x","expandDims",null);r(e<=n.rank,(()=>"Axis must be <= rank of the tensor"));const o=n.shape.slice();return e<0&&(r(-(n.rank+1)<=e,(()=>`Axis must be in the interval [${-(n.rank+1)}, ${n.rank}]`)),e=n.rank+e+1),o.splice(e,0,1),Fn(n,o)}}),As=cn({stack_:function(t,e=0){const n=un(t,"tensors","stack");if(r(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),1===n.length)return Bs(n[0],e);const s=n[0].rank,a=n[0].shape,i=n[0].dtype;r(e<=s,(()=>"Axis must be <= rank of the tensor")),n.forEach((t=>{o(a,t.shape,"All tensors passed to stack must have matching shapes"),r(i===t.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const l=n.map((t=>Bs(t,e)));return ys(l,e)}}),_s={kernelName:Vt,gradFunc:(t,e,n)=>{const r=n,{axis:o}=r;return{value:()=>As(t,o)}}},$s=cn({gather_:function(t,e,n=0){const r=ln(t,"x","gather"),o=ln(e,"indices","gather","int32"),s={x:r,indices:o},a={axis:n};return Fe.runKernelFunc(((t,e)=>{const s=c(n,r.shape)[0],a=function(t,e,n){const r=t.shape[n],o=[];let s=1,a=1;for(let e=0;e<n;e++)o.push(t.shape[e]),s*=t.shape[e];for(let t=0;t<e.rank;t++)o.push(e.shape[t]);for(let e=n+1;e<t.rank;e++)o.push(t.shape[e]),a*=t.shape[e];return{batchSize:s,sliceSize:a,dimSize:r,outputShape:o}}(r,o,s),i=t.gather(r,Fn(o,[o.size]),s);return e([r,o]),Fn(i,a.outputShape)}),s,null,nt,a)}}),Ps=cn({maximum_:function(t,e){let n=ln(t,"a","maximum"),r=ln(e,"b","maximum");[n,r]=xe(n,r),"bool"===n.dtype&&(n=pn(n,"int32"),r=pn(r,"int32")),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.maximum(n,r);return e([n,r]),o}),o,null,ct)}}),Ms=[mn,En,Dn,Pn,{kernelName:"AddN",saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach(((e,r)=>{n[r]=()=>t.clone()})),n}},Rn,Ln,On,Kn,qn,jn,Vn,or,ar,lr,cr,pr,dr,hr,br,kr,Ir,Er,Cr,Br,_r,Pr,Lr,Or,zr,Kr,jr,Vr,Hr,Wr,Ur,Xr,Qr,eo,no,ro,oo,so,ao,io,lo,co,fo,fo,go,yo,vo,ko,So,Ao,$o,Po,Mo,Oo,zo,Ko,Ko,Vo,Ho,Uo,Wo,Go,Yo,Xo,Jo,Zo,ts,es,rs,os,ss,as,ls,cs,ds,hs,ms,ws,ws,bs,bs,vs,xs,ks,Ss,Es,Is,Ts,Fs,Cs,Ns,_s,{kernelName:Ht,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>function(t,e){const n=Ps(e,Mn(e)),r=$s(t,n);let o=fr(e,vn(0,"int32"));const s=r.rank-o.rank;for(let t=0;t<s;++t)o=Bs(o,t+1);o=gr(o,Ds(r.shape,"bool"));const a=Mn(r);return yr(o,r,a)}(t,n)}}},{kernelName:Ut,gradFunc:t=>({x:()=>Mn(t)})}];for(const t of Ms)Qt(t);const Rs=cn({abs_:function(t){const e=ln(t,"x","abs"),n={x:e};return Fe.runKernelFunc(((t,n)=>(n([e]),"complex64"===e.dtype?t.complexAbs(e):t.abs(e))),n,null,"Abs")}});fe.prototype.abs=function(){return this.throwIfDisposed(),Rs(this)};const Ls=cn({acos_:function(t){const e=ln(t,"x","acos"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.acos(e);return n([e]),r}),n,null,F)}});fe.prototype.acos=function(){return this.throwIfDisposed(),Ls(this)};const Os=cn({acosh_:function(t){const e=ln(t,"x","acosh"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.acosh(e);return n([e]),r}),n,null,C)}});function zs(t){S().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}fe.prototype.acosh=function(){return this.throwIfDisposed(),Os(this)},he=zs;const Ks=cn({minimum_:function(t,e){let n=ln(t,"a","minimum"),r=ln(e,"b","minimum");[n,r]=xe(n,r),"bool"===n.dtype&&(n=pn(n,"int32"),r=pn(r,"int32")),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.minimum(n,r);return e([n,r]),o}),o,null,dt)}}),qs=cn({mod_:function(t,e){let n=ln(t,"a","mod"),r=ln(e,"b","mod");[n,r]=xe(n,r);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.mod(n,r);return e([n,r]),o}),o,null,"Mod")}}),js=cn({squaredDifference_:function(t,e){let n=ln(t,"a","squaredDifference"),r=ln(e,"b","squaredDifference");[n,r]=xe(n,r),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.squaredDifference(n,r);return e([n,r]),o}),o,null,zt,{})}}),Vs=cn({addStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","addStrict"),r=ln(e,"b","addStrict");return o(n.shape,r.shape,"Error in addStrict: "),zn(n,r)}}),Hs=cn({divStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","div"),r=ln(e,"b","div");return o(n.shape,r.shape,"Error in divideStrict: "),wn(n,r)}}),Us=cn({maximumStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","maximumStrict"),r=ln(e,"b","maximumStrict");return o(n.shape,r.shape,"Error in maximumStrict: "),Ps(n,r)}}),Ws=cn({minimumStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","minimumStrict"),r=ln(e,"b","minimumStrict");return o(n.shape,r.shape,"Error in minimumStrict: "),Ks(n,r)}}),Gs=cn({modStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","modStrict"),r=ln(e,"b","modStrict");return o(n.shape,r.shape,"Error in modStrict: "),qs(n,r)}}),Ys=cn({mulStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","mul"),r=ln(e,"b","mul");return o(n.shape,r.shape,"Error in multiplyStrict: "),hn(n,r)}}),Xs=cn({powStrict_:function(t,e){return zs("strict variants of ops have been deprecated and will be removed in future"),o(t.shape,e.shape,"Error in powStrict: "),jo(t,e)}}),Js=cn({squaredDifferenceStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","squaredDifferenceStrict"),r=ln(e,"b","squaredDifferenceStrict");return o(n.shape,r.shape,"Error in squaredDifferenceStrict: "),js(n,r)}}),Qs=cn({subStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","subStrict"),r=ln(e,"b","subStrict");return o(n.shape,r.shape,"Error in subStrict: "),Sn(n,r)}});fe.prototype.addStrict=function(t){return this.throwIfDisposed(),Vs(this,t)},fe.prototype.add=function(t){return this.throwIfDisposed(),zn(this,t)};const Zs=cn({all_:function(t,e=null,n=!1){let r=ln(t,"x","all","bool");const o={x:r},s={axis:e,keepDims:n};return Fe.runKernelFunc((t=>{const o=c(e,r.shape);let s=o;const a=Nn(s,r.rank);null!=a&&(r=_n(r,a),s=An(s.length,r.rank));const i=t.all(r,s);if(n){const t=Cn(i.shape,o);return Fn(i,t)}return i}),o,null,"All",s)}});fe.prototype.all=function(t,e){return this.throwIfDisposed(),Zs(this,t,e)};const ta=cn({any_:function(t,e=null,n=!1){let r=ln(t,"x","any","bool");const o={x:r},s={axis:e,keepDims:n};return Fe.runKernelFunc((t=>{const o=c(e,r.shape);let s=o;const a=Nn(s,r.rank);null!=a&&(r=_n(r,a),s=An(s.length,r.rank));const i=t.any(r,s);if(n){const t=Cn(i.shape,o);return Fn(i,t)}return i}),o,null,"Any",s)}});fe.prototype.any=function(t,e){return this.throwIfDisposed(),ta(this,t,e)};const ea=cn({argMax_:function(t,e=0){let n=ln(t,"x","argMax");const r={x:n},o={axis:e};return Fe.runKernelFunc(((t,r)=>{r([n]);let o=c(e,n.shape);const s=Nn(o,n.rank);return null!=s&&(n=_n(n,s),o=An(o.length,n.rank)),t.argMax(n,o[0])}),r,null,B,o)}});fe.prototype.argMax=function(t){return this.throwIfDisposed(),ea(this,t)};const na=cn({argMin_:function(t,e=0){let n=ln(t,"x","argMin");const r={x:n},o={axis:e};return Fe.runKernelFunc(((t,r)=>{r([n]),null==e&&(e=0);let o=c(e,n.shape);const s=Nn(o,n.rank);return null!=s&&(n=_n(n,s),o=An(o.length,n.rank)),t.argMin(n,o[0])}),r,null,A,o)}});fe.prototype.argMin=function(t){return this.throwIfDisposed(),na(this,t)},fe.prototype.asScalar=function(){return this.throwIfDisposed(),r(1===this.size,(()=>"The array must have only 1 element.")),Fn(this,[])},fe.prototype.asType=function(t){return this.throwIfDisposed(),pn(this,t)},fe.prototype.as1D=function(){return this.throwIfDisposed(),Fn(this,[this.size])},fe.prototype.as2D=function(t,e){return this.throwIfDisposed(),Fn(this,[t,e])},fe.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Fn(this,[t,e,n])},fe.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),Fn(this,[t,e,n,r])},fe.prototype.as5D=function(t,e,n,r,o){return this.throwIfDisposed(),Fn(this,[t,e,n,r,o])};const ra=cn({asin_:function(t){const e=ln(t,"x","asin"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.asin(e);return n([e]),r}),n,null,_)}});fe.prototype.asin=function(){return this.throwIfDisposed(),ra(this)};const oa=cn({asinh_:function(t){const e=ln(t,"x","asinh"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.asinh(e);return n([e]),r}),n,null,$)}});fe.prototype.asinh=function(){return this.throwIfDisposed(),oa(this)};const sa=cn({atan_:function(t){const e=ln(t,"x","atan"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.atan(e);return n([e]),r}),n,null,P)}});fe.prototype.atan=function(){return this.throwIfDisposed(),sa(this)};const aa=cn({atan2_:function(t,e){let n=ln(t,"a","atan2"),r=ln(e,"b","atan2");[n,r]=xe(n,r);const o={a:n,b:r};return Fe.runKernelFunc(((t,e)=>{const o=t.atan2(n,r);return e([n,r]),o}),o,null,R)}});fe.prototype.atan2=function(t){return this.throwIfDisposed(),aa(this,t)};const ia=cn({atanh_:function(t){const e=ln(t,"x","atanh"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.atanh(e);return n([e]),r}),n,null,M)}});fe.prototype.atanh=function(){return this.throwIfDisposed(),ia(this)};const la=cn({avgPool_:function(t,e,n,o,s){const a=ln(t,"x","avgPool","float32");r(er(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let u=a,c=!1;3===a.rank&&(c=!0,u=Fn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),r(4===u.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${u.rank}.`)),null!=s&&r(l(o),(()=>`Error in avgPool: pad must be an integer when using, dimRoundingMode ${s} but got pad ${o}.`));const p={x:u},d={filterSize:e,strides:n,pad:o,dimRoundingMode:s};let h=Fe.runKernelFunc(((t,r)=>{const a=Hn(u.shape,e,n,1,o,s);return r([u]),1===a.filterWidth&&1===a.filterHeight&&i(a.inShape,a.outShape)?u.clone():t.avgPool(u,a)}),p,null,L,d);return h=pn(h,a.dtype),c?Fn(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});function ua(t){return null==t?null:0===t.rank?Fn(t,[t.size]):1===t.rank?t:2===t.rank?Fn(t,[1,1,t.shape[0],t.shape[1]]):3===t.rank?Fn(t,[1,t.shape[0],t.shape[1],t.shape[2]]):t}fe.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),la(this,t,e,n,r)},fe.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),gs(this,t,e)};const ca=cn({batchNorm_:function(t,e,n,o,s,a){null==a&&(a=.001);const i=ln(t,"x","batchNorm"),l=ln(e,"mean","batchNorm"),u=ln(n,"variance","batchNorm");let c,p;null!=s&&(c=ln(s,"scale","batchNorm")),null!=o&&(p=ln(o,"offset","batchNorm")),r(l.rank===u.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),r(null==p||l.rank===p.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),r(null==c||l.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d=function(t){let e;return e=0===t.rank||1===t.rank?Fn(t,[1,1,1,t.size]):2===t.rank?Fn(t,[1,1,t.shape[0],t.shape[1]]):3===t.rank?Fn(t,[1,t.shape[0],t.shape[1],t.shape[2]]):t,e}(i),h={x:d,scale:c,offset:p,mean:l,variance:u},f={varianceEpsilon:a},m=Fe.runKernelFunc(((t,e)=>(e([d,l,u,c]),t.batchNorm(d,ua(l),ua(u),ua(p),ua(c),a))),h,null,et,f);return Fn(m,i.shape)}});fe.prototype.batchNorm=function(t,e,n,r,o){return this.throwIfDisposed(),ca(this,t,e,n,r,o)},fe.prototype.broadcastTo=function(t){return this.throwIfDisposed(),wr(this,t)},fe.prototype.cast=function(t){return this.throwIfDisposed(),pn(this,t)};const pa=cn({ceil_:function(t){const e=ln(t,"x","ceil"),n={x:e};return Fe.runKernelFunc((t=>t.ceil(e)),n,null,j)}});fe.prototype.ceil=function(){return this.throwIfDisposed(),pa(this)};const da=cn({clipByValue_:function(t,e,n){const o=ln(t,"x","clipByValue");r(e<=n,(()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`));const s={x:o},a={clipValueMin:e,clipValueMax:n};return Fe.runKernelFunc(((t,r)=>{const s=t.clip(o,e,n);return r([o]),s}),s,null,V,a)}});fe.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),da(this,t,e)},fe.prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof fe&&(t=[t]),ys([this,...t],e)};const ha=cn({conv1d_:function(t,e,n,o,s="NWC",a=1,i){const u=ln(t,"x","conv1d"),c=ln(e,"filter","conv1d");let p=u,d=!1;2===u.rank&&(d=!0,p=Fn(u,[1,u.shape[0],u.shape[1]])),r(3===p.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${p.rank}.`)),r(3===c.rank,(()=>"Error in conv1d: filter must be rank 3, but got rank "+c.rank+".")),null!=i&&r(l(o),(()=>`Error in conv1d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${o}.`)),r(p.shape[2]===c.shape[1],(()=>`Error in conv1d: depth of input (${p.shape[2]}) must match input depth for filter ${c.shape[1]}.`)),r(er(n,a),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${a}'`)),r("NWC"===s,(()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`));const h=Fn(c,[1,c.shape[0],c.shape[1],c.shape[2]]),f=Fn(p,[p.shape[0],1,p.shape[1],p.shape[2]]),m=Dr(f,h,[1,n],o,"NHWC",[1,a],i);return Fn(m,d?[m.shape[2],m.shape[3]]:[m.shape[0],m.shape[2],m.shape[3]])}});fe.prototype.conv1d=function(t,e,n,r,o,s){return this.throwIfDisposed(),ha(this,t,e,n,r,o,s)};const fa=cn({conv2dTranspose_:function(t,e,n,r,o,s){const a=ln(t,"x","conv2dTranspose"),i=ln(e,"filter","conv2dTranspose");return Sr(n,a,i,r,o,"NHWC",s)}});fe.prototype.conv2dTranspose=function(t,e,n,r,o){return this.throwIfDisposed(),fa(this,t,e,n,r,o)},fe.prototype.conv2d=function(t,e,n,r,o,s){return this.throwIfDisposed(),Dr(this,t,e,n,r,o,s)},fe.prototype.cos=function(){return this.throwIfDisposed(),is(this)},fe.prototype.cosh=function(){return this.throwIfDisposed(),us(this)},fe.prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),$r(this,t,e,n)};const ma=cn({depthToSpace_:function(t,e,n="NHWC"){const o=ln(t,"x","depthToSpace"),s="NHWC"===n?o.shape[1]:o.shape[2],a="NHWC"===n?o.shape[2]:o.shape[3],i="NHWC"===n?o.shape[3]:o.shape[1];r(s*e>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${s} and ${e}  for depthToSpace with input shape\n    ${o.shape}`)),r(a*e>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${e} for depthToSpace with input shape\n        ${o.shape}`)),r(i%(e*e)==0,(()=>`Dimension size must be evenly divisible by ${e*e} but is ${i} for depthToSpace with input shape ${o.shape}`));const l={x:o},u={blockSize:e,dataFormat:n};return Fe.runKernelFunc((t=>t.depthToSpace(o,e,n)),l,null,"DepthToSpace",u)}});fe.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),ma(this,t,e)};const ga=cn({depthwiseConv2d_:function(t,e,n,o,s="NHWC",a=[1,1],i){const u=ln(t,"x","depthwiseConv2d"),c=ln(e,"filter","depthwiseConv2d");let p=u,d=!1;3===u.rank&&(d=!0,p=Fn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),r(4===p.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`)),r(4===c.rank,(()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+c.rank+".")),r(p.shape[3]===c.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`)),null!=i&&r(l(o),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${i} but got pad ${o}.`));const h={x:p,filter:c},f={strides:n,pad:o,dataFormat:s,dilations:a,dimRoundingMode:i},m=Fe.runKernelFunc(((t,e)=>{null==a&&(a=[1,1]),r(er(n,a),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`));const s=Wn(p.shape,c.shape,n,a,o,i,!0),l=t.depthwiseConv2D(p,c,s);return e([p,c]),l}),h,null,X,f);return d?Fn(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});fe.prototype.depthwiseConv2D=function(t,e,n,r,o,s){return zs("depthwiseConv2D is deprecated, use depthwiseConv2d instead"),this.throwIfDisposed(),ga(this,t,e,n,r,o,s)},fe.prototype.depthwiseConv2d=function(t,e,n,r,o,s){return this.throwIfDisposed(),ga(this,t,e,n,r,o,s)};const wa=cn({dilation2d_:function(t,e,n,o,s=[1,1],a="NHWC"){const i=ln(t,"x","dilation2d"),l=ln(e,"filter","dilation2d");r(3===i.rank||4===i.rank,(()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+i.rank+".")),r(3===l.rank,(()=>"Error in dilation2d: filter must be rank 3, but got rank "+l.rank+".")),r("NHWC"===a,(()=>"Error in dilation2d: Only NHWC is currently supported, but got dataFormat of "+a));let u=i,c=!1;3===i.rank&&(u=Fn(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=!0);const p={x:u,filter:l},d={strides:n,pad:o,dilations:s},h=Fe.runKernel(J,p,d);return c?Fn(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});fe.prototype.dilation2d=function(t,e,n,r,o){return this.throwIfDisposed(),wa(this,t,e,n,r,o)};const ya=cn({divNoNan_:function(t,e){let n=ln(t,"a","div"),r=ln(e,"b","div");[n,r]=xe(n,r);const o=wn(n,r),s=Mn(o),a=po(r,s);return yr(a,s,o)}});fe.prototype.divNoNan=function(t){return this.throwIfDisposed(),ya(this,t)},fe.prototype.divStrict=function(t){return this.throwIfDisposed(),Hs(this,t)},fe.prototype.div=function(t){return this.throwIfDisposed(),wn(this,t)};const ba=cn({dot_:function(t,e){const n=ln(t,"t1","dot"),o=ln(e,"t2","dot");r(!(1!==n.rank&&2!==n.rank||1!==o.rank&&2!==o.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${o.rank}.`));const s=1===n.rank?n.size:n.shape[1],a=1===o.rank?o.size:o.shape[0];if(r(s===a,(()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${a}.`)),1===n.rank&&1===o.rank){const t=Fn(n,[1,-1]),e=Fn(o,[-1,1]),r=ir(t,e);return Fn(r,[])}if(1===n.rank&&2===o.rank){const t=Fn(n,[1,-1]),e=Fn(o,[o.shape[0],o.shape[1]]),r=ir(t,e);return Fn(r,[r.size])}if(2===n.rank&&1===o.rank){const t=Fn(o,[-1,1]),e=ir(n,t);return Fn(e,[e.size])}{const t=Fn(o,[o.shape[0],o.shape[1]]);return ir(n,t)}}});fe.prototype.dot=function(t){return this.throwIfDisposed(),ba(this,t)};const va=cn({elu_:function(t){const e=ln(t,"x","elu"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.elu(e);return n([r]),r}),n,null,"Elu")}});fe.prototype.elu=function(){return this.throwIfDisposed(),va(this)};const ka=cn({notEqual_:function(t,e){let n=ln(t,"a","notEqual"),r=ln(e,"b","notEqual");[n,r]=xe(n,r),Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc((t=>t.notEqual(n,r)),o,null,"NotEqual")}}),xa=cn({equalStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","equalStrict"),r=ln(e,"b","equalStrict");return o(n.shape,r.shape,"Error in equalStrict: "),po(n,r)}}),Sa=cn({greaterEqualStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","greaterEqualStrict"),r=ln(e,"b","greaterEqualStrict");return o(n.shape,r.shape,"Error in greaterEqualStrict: "),fr(n,r)}}),Ea=cn({greaterStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","greaterStrict"),r=ln(e,"b","greaterStrict");return o(n.shape,r.shape,"Error in greaterStrict: "),xo(n,r)}}),Da=cn({lessEqualStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","lessEqualStrict"),r=ln(e,"b","lessEqualStrict");return o(n.shape,r.shape,"Error in lessEqualStrict: "),mr(n,r)}}),Ia=cn({lessStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","lessStrict"),r=ln(e,"b","lessStrict");return o(n.shape,r.shape,"Error in lessStrict: "),mo(n,r)}}),Ta=cn({notEqualStrict_:function(t,e){zs("strict variants of ops have been deprecated and will be removed in future");const n=ln(t,"a","notEqualStrict"),r=ln(e,"b","notEqualStrict");return o(n.shape,r.shape,"Error in notEqualStrict: "),ka(n,r)}});fe.prototype.equalStrict=function(t){return this.throwIfDisposed(),xa(this,t)},fe.prototype.equal=function(t){return this.throwIfDisposed(),po(this,t)};const Fa=cn({erf_:function(t){let e=ln(t,"x","erf");r("int32"===e.dtype||"float32"===e.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===e.dtype&&(e=pn(e,"float32"));const n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.erf(e);return n([e]),r}),n,null,"Erf")}});fe.prototype.erf=function(){return this.throwIfDisposed(),Fa(this)},fe.prototype.exp=function(){return this.throwIfDisposed(),qr(this)},fe.prototype.expandDims=function(t){return this.throwIfDisposed(),Bs(this,t)};const Ca=cn({expm1_:function(t){const e=ln(t,"x","expm1"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.expm1(e);return n([e]),r}),n,null,Q)}});fe.prototype.expm1=function(){return this.throwIfDisposed(),Ca(this)};const Na=cn({fft_:function(t){r("complex64"===t.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`));const e={input:t};return Fe.runKernelFunc((e=>{const n=t.shape[t.shape.length-1],r=t.size/n,o=t.as2D(r,n);return e.fft(o).reshape(t.shape)}),e,null,"FFT")}});fe.prototype.fft=function(){return this.throwIfDisposed(),Na(this)},fe.prototype.flatten=function(){return this.throwIfDisposed(),Fn(this,[this.size])},fe.prototype.floor=function(){return this.throwIfDisposed(),_o(this)},fe.prototype.floorDiv=function(t){return this.throwIfDisposed(),gn(this,t)},fe.prototype.gather=function(t,e){return this.throwIfDisposed(),$s(this,t,e)},fe.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),Sa(this,t)},fe.prototype.greaterEqual=function(t){return this.throwIfDisposed(),fr(this,t)},fe.prototype.greaterStrict=function(t){return this.throwIfDisposed(),Ea(this,t)},fe.prototype.greater=function(t){return this.throwIfDisposed(),xo(this,t)};const Ba=cn({ifft_:function(t){r("complex64"===t.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`));const e={input:t};return Fe.runKernelFunc((e=>{const n=t.shape[t.shape.length-1],r=t.size/n,o=Fn(t,[r,n]),s=e.ifft(o);return Fn(s,t.shape)}),e,null,"IFFT")}});fe.prototype.ifft=function(){return this.throwIfDisposed(),Ba(this)};const Aa=cn({imag_:function(t){const e=ln(t,"input","imag"),n={input:e};return Fe.runKernelFunc((t=>t.imag(e)),n,null,"Imag")}}),_a=cn({real_:function(t){const e=ln(t,"input","real"),n={input:e};return Fe.runKernelFunc((t=>t.real(e)),n,null,"Real")}}),$a=cn({irfft_:function(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const o=Fn(t,[n,e]);r=Ba(o)}else{const o=[n,2*(e-1)],s=Fn(_a(t),[n,e]),a=Fn(Aa(t),[n,e]),i=Qo(Bo(s,[0,1],[n,e-2]),1),l=hn(Qo(Bo(a,[0,1],[n,e-2]),1),vn(-1)),u=ys([s,i],1),c=ys([a,l],1),p=Fn(Ro(u,c),[o[0],o[1]]);r=Ba(p)}if(r=_a(r),3===t.rank&&0!==t.shape[0]){const e=r,n=t.shape[0];r=Fn(r,[n,r.shape[0]/n,r.shape[1]]),e.dispose()}return r}});fe.prototype.irfft=function(){return this.throwIfDisposed(),$a(this)};const Pa=cn({isFinite_:function(t){const e=ln(t,"x","isFinite"),n={x:e};return Fe.runKernelFunc((t=>t.isFinite(e)),n,null,st)}});fe.prototype.isFinite=function(){return this.throwIfDisposed(),Pa(this)};const Ma=cn({isInf_:function(t){const e=ln(t,"x","isInf"),n={x:e};return Fe.runKernelFunc((t=>t.isInf(e)),n,null,at)}});fe.prototype.isInf=function(){return this.throwIfDisposed(),Ma(this)};const Ra=cn({isNaN_:function(t){const e=ln(t,"x","isNaN"),n={x:e};return Fe.runKernelFunc((t=>t.isNaN(e)),n,null,it)}});fe.prototype.isNaN=function(){return this.throwIfDisposed(),Ra(this)};const La=cn({leakyRelu_:function(t,e=.2){const n=ln(t,"x","leakyRelu");return Ps(hn(vn(e),n),n)}});fe.prototype.leakyRelu=function(t){return this.throwIfDisposed(),La(this,t)},fe.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),Da(this,t)},fe.prototype.lessEqual=function(t){return this.throwIfDisposed(),mr(this,t)},fe.prototype.lessStrict=function(t){return this.throwIfDisposed(),Ia(this,t)},fe.prototype.less=function(t){return this.throwIfDisposed(),mo(this,t)};const Oa=cn({localResponseNormalization_:function(t,e=5,n=1,o=1,s=.5){const a=ln(t,"x","localResponseNormalization");r(4===a.rank||3===a.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`)),r(l(e),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`));let i=a,u=!1;3===a.rank&&(u=!0,i=Fn(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const c={x:i},p={depthRadius:e,bias:n,alpha:o,beta:s},d=Fe.runKernelFunc(((t,r)=>{const a=t.localResponseNormalization4D(i,e,n,o,s);return r([i,a]),a}),c,null,"LRN",p);return u?Fn(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});function za(t){return Fe.customGrad(t)}fe.prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),Oa(this,t,e,n,r)};const Ka=cn({softplus_:function(t){const e=ln(t,"x","softplus"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.softplus(e);return n([e]),r}),n,null,Pt)}}),qa=cn({logSigmoid_:function(t){const e=ln(t,"x","logSigmoid");return za((t=>({value:yn(Ka(yn(t))),gradFunc:e=>hn(e,fs(yn(t)))})))(e)}});fe.prototype.logSigmoid=function(){return this.throwIfDisposed(),qa(this)};const ja=cn({max_:function(t,e=null,n=!1){const r=ln(t,"x","max"),o={x:r},s={reductionIndices:e,keepDims:n};return Fe.runKernelFunc(((t,o)=>{let s=c(e,r.shape);const a=Nn(s,r.rank);let i=r;null!=a&&(i=_n(r,a),s=An(s.length,i.rank));const l=t.max(i,s);null!=a&&i.dispose();let u=l;if(n){const t=Cn(u.shape,c(e,r.shape));u=Fn(u,t),l.dispose()}return o([r,u]),u}),o,null,"Max",s)}}),Va=cn({logSoftmax_:function(t,e=-1){const n=ln(t,"logits","logSoftmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);const r={logits:n},o={axis:e};return Fe.runKernelFunc(((n,r)=>{const o=ja(t,e,!0),s=Sn(t,o),a=Sn(pn(s,"float32"),qo($n(qr(s),e,!0)));return r([a]),a}),r,null,ut,o)}});fe.prototype.logSoftmax=function(t){return this.throwIfDisposed(),Va(this,t)};const Ha=cn({logSumExp_:function(t,e=null,n=!1){const r=ln(t,"x","logSumExp"),o=c(e,r.shape),s=ja(r,o,!0),a=Sn(r,s),i=qr(a),l=$n(i,o),u=qo(l),p=zn(Fn(s,u.shape),u);if(n){const t=Cn(p.shape,o);return Fn(p,t)}return p}});fe.prototype.logSumExp=function(t,e){return this.throwIfDisposed(),Ha(this,t,e)},fe.prototype.log=function(){return this.throwIfDisposed(),qo(this)};const Ua=cn({log1p_:function(t){const e=ln(t,"x","log1p"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.log1p(e);return n([e]),r}),n,null,lt)}});fe.prototype.log1p=function(){return this.throwIfDisposed(),Ua(this)},fe.prototype.logicalAnd=function(t){return this.throwIfDisposed(),gr(this,t)},fe.prototype.logicalNot=function(){return this.throwIfDisposed(),ns(this)};const Wa=cn({logicalOr_:function(t,e){const n=ln(t,"a","logicalOr","bool"),r=ln(e,"b","logicalOr","bool");Tn(n.shape,r.shape);const o={a:n,b:r};return Fe.runKernelFunc((t=>t.logicalOr(n,r)),o,null,"LogicalOr")}});fe.prototype.logicalOr=function(t){return this.throwIfDisposed(),Wa(this,t)};const Ga=cn({logicalXor_:function(t,e){const n=ln(t,"a","logicalXor","bool"),r=ln(e,"b","logicalXor","bool");return Tn(n.shape,r.shape),gr(Wa(t,e),ns(gr(t,e)))}});fe.prototype.logicalXor=function(t){return this.throwIfDisposed(),Ga(this,t)},fe.prototype.matMul=function(t,e,n){return this.throwIfDisposed(),ir(this,t,e,n)};const Ya=cn({maxPool_:function(t,e,n,o,s){const a=ln(t,"x","maxPool");let u=a,c=!1;3===a.rank&&(c=!0,u=Fn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),r(4===u.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${u.rank}.`)),r(er(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),null!=s&&r(l(o),(()=>`Error in maxPool: pad must be an integer when using, dimRoundingMode ${s} but got pad ${o}.`));const p={x:u},d={filterSize:e,strides:n,pad:o,dimRoundingMode:s},h=Fe.runKernelFunc(((t,r)=>{const a=Hn(u.shape,e,n,1,o,s);let l;return l=1===a.filterWidth&&1===a.filterHeight&&i(a.inShape,a.outShape)?u.clone():t.maxPool(u,a),r([u,l]),l}),p,null,pt,d);return c?Fn(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});fe.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),Ya(this,t,e,n,r)},fe.prototype.max=function(t,e){return this.throwIfDisposed(),ja(this,t,e)},fe.prototype.maximumStrict=function(t){return this.throwIfDisposed(),Us(this,t)},fe.prototype.maximum=function(t){return this.throwIfDisposed(),Ps(this,t)};const Xa=cn({mean_:function(t,e=null,n=!1){const r=ln(t,"x","mean"),o=c(e,r.shape),s=a(function(t,e){const n=[],r=t.length;for(let o=0;o<r;o++)-1===e.indexOf(o)&&n.push(t[o]);return[n,e.map((e=>t[e]))]}(r.shape,o)[1]),i={x:r},l={axis:e,keepDims:n},u=()=>{const t=vn(s),o=t.dtype===r.dtype?r:pn(r,t.dtype),a=wn(o,t);return $n(a,e,n)};return za((t=>({value:Fe.runKernelFunc(u,i,null,"Mean",l),gradFunc:e=>{const n=t.shape.slice();o.forEach((t=>{n[t]=1}));const r=Fn(e,n);return wn(hn(r,Ds(t.shape,"float32")),s)}})))(r)}});fe.prototype.mean=function(t,e){return this.throwIfDisposed(),Xa(this,t,e)};const Ja=cn({min_:function(t,e=null,n=!1){const r=ln(t,"x","min"),o={x:r},s={axis:e,keepDims:n};return Fe.runKernelFunc(((t,o)=>{const s=c(e,r.shape);let a=s;const i=Nn(a,r.rank);let l=r;null!=i&&(l=_n(r,i),a=An(a.length,r.rank));const u=t.min(l,a);null!=i&&l.dispose();let p=u;if(n){const t=Cn(p.shape,s);p=Fn(u,t),u.dispose()}return o([r,p]),p}),o,null,"Min",s)}});fe.prototype.min=function(t,e){return this.throwIfDisposed(),Ja(this,t,e)},fe.prototype.minimumStrict=function(t){return this.throwIfDisposed(),Ws(this,t)},fe.prototype.minimum=function(t){return this.throwIfDisposed(),Ks(this,t)};const Qa=cn({mirrorPad_:function(t,e,n){r("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const o=ln(t,"x","mirrorPad");if(0===o.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");r(e.length===o.rank,(()=>`Padding doesn't match input. Must be ${o.rank}. Got ${e.length}.`));const s="reflect"===n?1:0;for(let t=0;t<o.rank;t++)r(2===e[t].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),r(e[t][0]>=0&&e[t][0]<=o.shape[t]-s&&e[t][1]>=0&&e[t][1]<=o.shape[t]-s,(()=>`Padding in dimension ${t} cannot be greater than or equal to ${o.shape[t]-s} or less than 0 for input of shape `+o.shape));const a={paddings:e,mode:n},i={x:o};return Fe.runKernel(ht,i,a)}});function Za(t,e,n=null){if(0===t.rank)return Rs(t);if(1!==t.rank&&null===n)return Za(Fn(t,[-1]),e,n);if(1===t.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===e)return $n(Rs(t),n);if(e===1/0)return ja(Rs(t),n);if(e===-1/0)return Ja(Rs(t),n);if("euclidean"===e||2===e)return kn($n(jo(Rs(t),vn(2,"int32")),n));throw new Error("Error in norm: invalid ord value: "+e)}if(Array.isArray(n)&&2===n.length){if(1===e)return ja($n(Rs(t),n[0]),n[1]-1);if(e===1/0)return ja($n(Rs(t),n[1]),n[0]);if(e===-1/0)return Ja($n(Rs(t),n[1]),n[0]);if("fro"===e||"euclidean"===e)return kn($n(xn(t),n));throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+n)}fe.prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),Qa(this,t,e)},fe.prototype.modStrict=function(t){return this.throwIfDisposed(),Gs(this,t)},fe.prototype.mod=function(t){return this.throwIfDisposed(),qs(this,t)},fe.prototype.mulStrict=function(t){return this.throwIfDisposed(),Ys(this,t)},fe.prototype.mul=function(t){return this.throwIfDisposed(),hn(this,t)},fe.prototype.neg=function(){return this.throwIfDisposed(),yn(this)};const ti=cn({norm_:function(t,e="euclidean",n=null,r=!1){const o=Za(t=ln(t,"x","norm"),e,n);let s=o.shape;if(r){const e=c(n,t.shape);s=Cn(o.shape,e)}return Fn(o,s)}});fe.prototype.norm=function(t,e,n){return this.throwIfDisposed(),ti(this,t,e,n)},fe.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),Ta(this,t)},fe.prototype.notEqual=function(t){return this.throwIfDisposed(),ka(this,t)};const ei=cn({oneHot_:function(t,e,n=1,r=0){if(e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);const o=ln(t,"indices","oneHot","int32"),s=[...o.shape,e],a={indices:o},i={depth:e,onValue:n,offValue:r};return Fe.runKernelFunc(((t,a)=>(a([o]),Fn(t.oneHot(Fn(o,[o.size]),e,n,r),s))),a,null,wt,i)}});fe.prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),ei(this,t,e,n)};const ni=cn({onesLike_:function(t){const e=ln(t,"x","onesLike"),n={x:e};return Fe.runKernelFunc(((t,n)=>{if("complex64"===e.dtype){const t=ni(_a(e)),n=Mn(Aa(e));return Ro(t,n)}return t.onesLike(e)}),n,null,gt)}});fe.prototype.onesLike=function(){return this.throwIfDisposed(),ni(this)},fe.prototype.pad=function(t,e){return this.throwIfDisposed(),ps(this,t,e)};const ri=cn({pool_:function(t,e,n,o,s,a){null==s&&(s=[1,1]),null==a&&(a=1),0===o&&(o="valid");const i=ln(t,"x","maxPool");let l=i,u=!1;3===i.rank&&(u=!0,l=Fn(i,[1,i.shape[0],i.shape[1],i.shape[2]])),r(er(a,s),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${s}'`));const c=Hn(l.shape,e,a,s,o),p=[c.dilationHeight,c.dilationWidth];let d;d="same"===o?function(t,e){const n=t.map(((t,n)=>t+(t-1)*(e[n]-1))).map((t=>t-1)),r=n.map((t=>Math.floor(t/2))),o=n.map(((t,e)=>t-r[e]));return n.map(((t,e)=>[r[e],o[e]]))}([c.filterHeight,c.filterWidth],p):[[0,0],[0,0]];const h=1===p[0]&&1===p[1],[f,m]=function(t,e,n){const r=n.map((t=>t[0])),o=n.map((t=>t[1])),s=t.concat(r,o),a=e.map(((t,e)=>(t-s[e]%t)%t)),i=o.map(((t,e)=>t+a[e]));return[e.map(((t,e)=>[r[e],i[e]])),e.map(((t,e)=>[0,a[e]]))]}([c.inHeight,c.inWidth],p,d),g=h?o:"valid",w=h?l:ur(l,p,f),y=("avg"===n?()=>la(w,e,a,g):()=>Ya(w,e,a,g))(),b=h?y:gs(y,p,m);return u?Fn(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});fe.prototype.pool=function(t,e,n,r,o){return this.throwIfDisposed(),ri(this,t,e,n,r,o)},fe.prototype.powStrict=function(t){return this.throwIfDisposed(),Xs(this,t)},fe.prototype.pow=function(t){return this.throwIfDisposed(),jo(this,t)};const oi=cn({prelu_:function(t,e){const n=ln(t,"x","prelu"),r=ln(e,"alpha","prelu"),o={x:n,alpha:r};return Fe.runKernelFunc(((t,e)=>{const o=t.prelu(n,r);return e([n,r]),o}),o,null,bt)}});fe.prototype.prelu=function(t){return this.throwIfDisposed(),oi(this,t)};const si=cn({prod_:function(t,e=null,n=!1){let r=ln(t,"x","prod");"bool"===r.dtype&&(r=pn(r,"int32"));const o={x:r},s={axis:e,keepDims:n};return Fe.runKernelFunc((t=>{const o=c(e,r.shape),s=Nn(o,r.rank);let a=o,i=r;null!=s&&(i=_n(r,s),a=An(a.length,r.rank));let l=t.prod(i,a);if(n){const t=Cn(l.shape,o);l=Fn(l,t)}return l}),o,null,"Prod",s)}});fe.prototype.prod=function(t,e){return this.throwIfDisposed(),si(this,t,e)};const ai=cn({reciprocal_:function(t){const e=ln(t,"x","reciprocal"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.reciprocal(e);return n([e]),r}),n,null,vt)}});fe.prototype.reciprocal=function(){return this.throwIfDisposed(),ai(this)};const ii=cn({relu_:function(t){const e=ln(t,"x","relu"),n={x:e};return Fe.runKernelFunc(((t,n)=>(n([e]),"bool"===e.dtype?pn(e,"int32"):t.relu(e))),n,null,kt)}});fe.prototype.relu=function(){return this.throwIfDisposed(),ii(this)};const li=cn({relu6_:function(t){const e=ln(t,"x","relu6"),n={x:e};return Fe.runKernelFunc(((t,n)=>(n([e]),"bool"===e.dtype?pn(e,"int32"):t.relu6(e))),n,null,Dt)}});fe.prototype.relu6=function(){return this.throwIfDisposed(),li(this)},fe.prototype.reshapeAs=function(t){return this.throwIfDisposed(),Fn(this,t.shape)},fe.prototype.reshape=function(t){return this.throwIfDisposed(),Fn(this,t)};const ui=cn({resizeBilinear_:function(t,e,n=!1){const o=ln(t,"images","resizeBilinear");r(3===o.rank||4===o.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${o.rank}.`)),r(2===e.length,(()=>"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."));let s=o,a=!1;3===o.rank&&(a=!0,s=Fn(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[i,l]=e,u={images:s},c={alignCorners:n,size:e},p=Fe.runKernelFunc(((t,e)=>(e([s]),t.resizeBilinear(s,i,l,n))),u,null,Et,c);return a?Fn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});fe.prototype.resizeBilinear=function(t,e){return this.throwIfDisposed(),ui(this,t,e)};const ci=cn({resizeNearestNeighbor_:function(t,e,n=!1){const o=ln(t,"images","resizeNearestNeighbor");r(3===o.rank||4===o.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${o.rank}.`)),r(2===e.length,(()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+".")),r("float32"===o.dtype||"int32"===o.dtype,(()=>"`images` must have `int32` or `float32` as dtype"));let s=o,a=!1;3===o.rank&&(a=!0,s=Fn(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[i,l]=e,u={images:s},c={alignCorners:n,size:e},p=Fe.runKernelFunc(((t,e)=>(e([s]),t.resizeNearestNeighbor(s,i,l,n))),u,null,St,c);return a?Fn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});fe.prototype.resizeNearestNeighbor=function(t,e){return this.throwIfDisposed(),ci(this,t,e)},fe.prototype.reverse=function(t){return this.throwIfDisposed(),Qo(this,t)};const pi=cn({rfft_:function(t,e){r("float32"===t.dtype,(()=>"The dtype for rfft() must be real value but got "+t.dtype));let n=t.shape[t.shape.length-1];const o=t.size/n;let s;if(null!=e&&e<n){const r=t.shape.map((t=>0)),o=t.shape.map((t=>t));o[t.shape.length-1]=e,s=Bo(t,r,o),n=e}else if(null!=e&&e>n){const r=t.shape.map((t=>t));r[t.shape.length-1]=e-n,s=ys([t,Lo(r)],t.shape.length-1),n=e}else s=t;const a=Mn(s),i=Fn(Ro(s,a),[o,n]),l=Na(i),u=Math.floor(n/2)+1,c=_a(l),p=Aa(l),d=vr(c,[u,n-u],c.shape.length-1),h=vr(p,[u,n-u],p.shape.length-1),f=s.shape.slice();return f[s.shape.length-1]=u,Fn(Ro(d[0],h[0]),f)}});fe.prototype.rfft=function(){return this.throwIfDisposed(),pi(this)};const di=cn({round_:function(t){const e=ln(t,"x","round"),n={x:e};return Fe.runKernelFunc((t=>t.round(e)),n,null,Tt)}});fe.prototype.round=function(){return this.throwIfDisposed(),di(this)},fe.prototype.rsqrt=function(){return this.throwIfDisposed(),Gr(this)};const hi=cn({selu_:function(t){const e=ln(t,"x","selu"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.selu(e);return n([e]),r}),n,null,Nt)}});fe.prototype.selu=function(){return this.throwIfDisposed(),hi(this)};const fi=cn({separableConv2d_:function(t,e,n,o,s,a=[1,1],i="NHWC"){const l=ln(t,"x","separableConv2d"),u=ln(e,"depthwiseFilter","separableConv2d"),c=ln(n,"pointwiseFilter","separableConv2d");let p=l,d=!1;if(3===l.rank&&(d=!0,p=Fn(l,[1,l.shape[0],l.shape[1],l.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");r(4===p.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${p.rank}.`)),r(4===u.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${u.rank}.`)),r(4===c.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${u.rank}.`)),r(1===c.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`)),r(1===c.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`));const h=u.shape[2],f=u.shape[3];r(c.shape[2]===h*f,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*f}, but got ${c.shape[2]}.`));const m=ga(p,u,o,s,i,a),g=Dr(m,c,1,"valid",i);return d?Fn(g,[g.shape[1],g.shape[2],g.shape[3]]):g}});fe.prototype.separableConv2d=function(t,e,n,r,o,s){return this.throwIfDisposed(),fi(this,t,e,n,r,o,s)},fe.prototype.sigmoid=function(){return this.throwIfDisposed(),fs(this)};const mi=cn({sign_:function(t){const e=ln(t,"x","sign"),n={x:e};return Fe.runKernelFunc((t=>t.sign(e)),n,null,_t)}});fe.prototype.sign=function(){return this.throwIfDisposed(),mi(this)},fe.prototype.sin=function(){return this.throwIfDisposed(),Nr(this)},fe.prototype.sinh=function(){return this.throwIfDisposed(),Ar(this)},fe.prototype.slice=function(t,e){return this.throwIfDisposed(),Bo(this,t,e)};const gi=cn({softmax_:function(t,e=-1){const n=ln(t,"logits","softmax","float32");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},o={dim:e};return Fe.runKernelFunc(((t,r)=>{const o=t.softmax(n,e);return r([o]),o}),r,null,Ot,o)}});fe.prototype.softmax=function(t){return this.throwIfDisposed(),gi(this,t)},fe.prototype.softplus=function(){return this.throwIfDisposed(),Ka(this)},fe.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),ur(this,t,e)},fe.prototype.split=function(t,e){return this.throwIfDisposed(),vr(this,t,e)},fe.prototype.sqrt=function(){return this.throwIfDisposed(),kn(this)},fe.prototype.square=function(){return this.throwIfDisposed(),xn(this)},fe.prototype.squaredDifference=function(t){return this.throwIfDisposed(),js(this,t)},fe.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),Js(this,t)};const wi=cn({squeeze_:function(t,e){const n=ln(t,"x","squeeze");return Fn(n,function(t,e){const n=[],r=[],o=null!=e&&Array.isArray(e)&&0===e.length,s=null==e||o?null:c(e,t).sort();let a=0;for(let e=0;e<t.length;++e){if(null!=s){if(s[a]===e&&1!==t[e])throw new Error(`Can't squeeze axis ${e} since its dim '${t[e]}' is not 1`);(null==s[a]||s[a]>e)&&1===t[e]&&(n.push(t[e]),r.push(e)),s[a]<=e&&a++}1!==t[e]&&(n.push(t[e]),r.push(e))}return{newShape:n,keptDims:r}}(n.shape,e).newShape)}});fe.prototype.squeeze=function(t){return this.throwIfDisposed(),wi(this,t)},fe.prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof fe?[this,t]:[this,...t];return As(n,e)},fe.prototype.step=function(t){return this.throwIfDisposed(),fn(this,t)};const yi=cn({stridedSlice_:function(t,n,r,o,s=0,a=0,i=0,l=0,u=0){let c=ln(t,"x","stridedSlice");const p={x:c},d={begin:n,end:r,strides:o,beginMask:s,endMask:a,ellipsisMask:i,newAxisMask:l,shrinkAxisMask:u};return Fe.runKernelFunc((t=>{null==o&&(o=new Array(n.length));const p=Eo(i);if(p.length>1)throw new Error("Multiple ellipses in slice is not allowed.");if(0!==i&&0!==l)throw new Error("Using both ellipsisMask and newAxisMask is not yet supported.");if(0!==i&&0!==u)throw new Error("Using both ellipsisMask and shrinkAxisMask is not yet supported.");const d=c.rank-n.length,h=Eo(l),f=c.shape.slice();h.forEach((t=>{n[t]=0,r[t]=1,f.splice(t,0,1)})),c=Fn(c,f);const{begin:m,end:g,strides:w}=function(t,n,r,o,s,a,i,l,u){const c=t.length;let p=new Array(c),d=new Array(c),h=new Array(c);if(n.length&&r>0){const u=n[0],c=r+1;p=function(t,e,n,r,o){const s=[...o],a=Io(n,e);for(let o=0;o<s.length;o++)if(a.indexOf(o)>-1)s[o]=0;else{const a=Do(e,n,o);let i=r[a];t&1<<a&&(i=0),s[o]=i}return s}(i,u,c,o,t),d=function(t,n,r,o,s){const a=[...s],i=Io(r,n);for(let e=0;e<a.length;e++)if(i.indexOf(e)>-1)a[e]=Number.MAX_SAFE_INTEGER;else{const s=Do(n,r,e);let i=o[s];t&1<<s&&(i=Number.MAX_SAFE_INTEGER),a[e]=i}for(let t=0;t<a.length;t++){const n=s[t];a[t]<0&&(a[t]+=n),a[t]=e(0,a[t],s[t])}return a}(l,u,c,s,t),h=function(t,e,n,r){const o=[...t];for(let t=o.length;t<r.length;t++)o.push(1);for(let t=0;t<n;t++)0===t?o[e]=1:(o.splice(e,0,1),o.pop());return o}(a,u,c,t)}else for(let e=0;e<c;e++)p[e]=Fo(i,o,a,t,e,u),d[e]=Co(l,s,a,t,e,u),h[e]=To(a,e,u);return{begin:p,end:d,strides:h}}(c.shape,p,d,n,r,o,s,a,i);n=m,r=g,o=w;const y=Eo(u);y.forEach((t=>{r[t]=n[t]+1,o[t]=1}));const b=function(t,e,n){const r=[];for(let o=0;o<t.length;o++)r[o]=Math.ceil((e[o]-t[o])/n[o]);return r}(n,r,o),v=b.filter(((t,e)=>-1===y.indexOf(e)));if(o.every((t=>1===t)))return Fn(Bo(c,n,b),v);const k=t.stridedSlice(c,n,r,o);return Fn(k,v)}),p,null,"StridedSlice",d)}});fe.prototype.stridedSlice=function(t,e,n,r,o,s,a,i){return this.throwIfDisposed(),yi(this,t,e,n,r,o,s,a,i)},fe.prototype.subStrict=function(t){return this.throwIfDisposed(),Qs(this,t)},fe.prototype.sub=function(t){return this.throwIfDisposed(),Sn(this,t)},fe.prototype.sum=function(t,e){return this.throwIfDisposed(),$n(this,t,e)};const bi=cn({tan_:function(t){const e=ln(t,"x","tan"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.tan(e);return n([e]),r}),n,null,"Tan")}});fe.prototype.tan=function(){return this.throwIfDisposed(),bi(this)};const vi=cn({tanh_:function(t){const e=ln(t,"x","tanh"),n={x:e};return Fe.runKernelFunc(((t,n)=>{const r=t.tanh(e);return n([r]),r}),n,null,Kt)}});fe.prototype.tanh=function(){return this.throwIfDisposed(),vi(this)},fe.prototype.tile=function(t){return this.throwIfDisposed(),Yr(this,t)},fe.prototype.toBool=function(){return this.throwIfDisposed(),pn(this,"bool")},fe.prototype.toFloat=function(){return this.throwIfDisposed(),pn(this,"float32")},fe.prototype.toInt=function(){return this.throwIfDisposed(),pn(this,"int32")};const ki=cn({topk_:function(t,e=1,n=!0){const r=ln(t,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const o=r.shape[r.shape.length-1];if(e>o)throw new Error(`'k' passed to topk() must be <= the last dimension (${o}) but got `+e);const s={x:r},a={k:e,sorted:n},[i,l]=Fe.runKernelFunc((t=>t.topk(r,e,n)),s,null,"TopK",a);return{values:i,indices:l}}});fe.prototype.topk=function(t,e){return this.throwIfDisposed(),ki(this,t,e)},fe.prototype.transpose=function(t){return this.throwIfDisposed(),_n(this,t)};const xi=cn({unique_:function(t,e=0){const n=ln(t,"x","unique",null);r(n.rank>0,(()=>"The input tensor must be at least 1D"));const o={x:n},s={axis:e},[a,i]=Fe.runKernel("Unique",o,s);return{values:a,indices:i}}});fe.prototype.unique=function(t){return this.throwIfDisposed(),xi(this,t)},fe.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),Jr(this,t,e)};const Si=cn({unstack_:function(t,e=0){const n=ln(t,"x","unstack");r(e>=-n.shape.length&&e<n.shape.length,(()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`)),e<0&&(e+=n.shape.length);const o={value:n},s={axis:e};return Fe.runKernelFunc((t=>t.unstack(n,e)),o,null,Vt,s)}});var Ei,Di;fe.prototype.unstack=function(t){return this.throwIfDisposed(),Si(this,t)},fe.prototype.where=function(t,e){return this.throwIfDisposed(),yr(t,this,e)},fe.prototype.zerosLike=function(){return this.throwIfDisposed(),Mn(this)},function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(Ei||(Ei={})),function(t){let e;!function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"}(e=t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))}(Di||(Di={}))})()})();