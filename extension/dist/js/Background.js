(()=>{"use strict";chrome.runtime.onInstalled.addListener((function(){chrome.declarativeContent.onPageChanged.removeRules(void 0,(function(){chrome.declarativeContent.onPageChanged.addRules([{conditions:[new chrome.declarativeContent.PageStateMatcher({pageUrl:{hostEquals:"classroom.google.com"}})],actions:[new chrome.declarativeContent.ShowPageAction]}])}))})),chrome.runtime.onMessage.addListener((function(e,t,n){return console.log("Received a message from "+(t.tab?t.tab.url:"extension")),"AddActiveQuestion"==e.type?async function(e,t){t(await async function(e,t,n){let o={mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},method:"POST"};try{let a=await new Promise(((e,t)=>{chrome.storage.local.get("student_name",(n=>{n.student_name?e(n.student_name):(console.error(n),t("Name retrieval failed"))}))}));o.body=JSON.stringify({student_name:a,videoID:e,timestamp:t,question_text:n});let s=await fetch("http://localhost:3000/video/addActiveQuestion",o);return await s.json()}catch(e){return console.error(e),{status:!1}}}(e.videoID,e.timestamp,e.questionText))}(e,n):n({status:!1}),!0}))})();